<!DOCTYPE html><html lang="en-us" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>[Learning] How to Setup Your Experimental Environment for Malware Analysis | ISSAC/iss4cf0ng's blog</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":true,"activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy","copyFinish":"copied","expand":"expand"}}</script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.1/MathJax.js"></script><script>MathJax.Hub.Config({
 menuSettings: {
   zoom: "None"
 },
 showMathMenu: false,
 jax: ["input/TeX","output/CommonHTML"],
 extensions: ["tex2jax.js"],
 TeX: {
   extensions: ["AMSmath.js","AMSsymbols.js"],
   equationNumbers: {
     autoNumber: "AMS"
   }
 },
 tex2jax: {
   inlineMath: [["\\(", "\\)"]],
   displayMath: [["\\[", "\\]"]]
 }
});</script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/brands.min.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Brands';
 src: local('Font Awesome 6 Brands'), url('/lib/fontawesome/fa-brands.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Free';
 src: local('Font Awesome 6 Free'), url('/lib/fontawesome/fa-regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg');
  --light-background: url('/img/bk.jpg');
}</style><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ISSAC/iss4cf0ng's blog" type="application/atom+xml">
</head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/About/"><span class="navItemTitle">About</span></a></li><li class="navItem"><a class="navBlock" href="/Alien/"><span class="navItemTitle">Alien</span></a></li><li class="navItem"><a class="navBlock" href="/2026/01/28/2026-1-28-ToolsDuplexSpy-v2-0-0/"><span class="navItemTitle">DuplexSpy</span></a></li><li class="navItem"><a class="navBlock" href="/Notes/"><span class="navItemTitle">Notes</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>[Learning] How to Setup Your Experimental Environment for Malware Analysis</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2026-02-21T03:24:39.000Z" id="date"> 2026-02-21</time></div></span><br><span>Last Update: <div class="control"><time datetime="2026-02-23T02:51:07.452Z" id="updated"> 2026-02-23</time></div></span><br><span>Word Count: <div class="control">582</div></span><br><span>Read Time: <div class="control">3 min</div></span></div></div><hr><div id="post-content"><h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Recently, I realized how important it is to set up an experimental environment quickly. A properly configured environment significantly reduces the time spent installing tools and preparing virtual machines for malware execution and analysis.</p>
<p>Therefore, I decided to write this article to help anyone facing the same issue. It also serves as a personal note on setting up an analysis environment efficiently.</p>
<p>This article explains how to set up your experimental environment for malware analysis.</p>
<h1 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h1><h2 id="Virtual-Machine"><a href="#Virtual-Machine" class="headerlink" title="Virtual Machine"></a>Virtual Machine</h2><p>To analyze malware, you need at least one virtual machine.</p>
<p>For modern malware, Windows 10 x64 is a suitable choice, as it can execute both x64 and x86 PE files. It can also run executables built with .NET Framework 4.8. However, if you want to study legacy malware such as <a href="https://iss4cf0ng.github.io/2026/02/18/2026-2-18-Netbus/">Netbus</a>, you may need to install Windows XP or even Windows 95(<a href="https://iss4cf0ng.github.io/2026/02/21/2026-2-21-WinXpVMWareTool/">click here</a> to learn how to install VMware Tools for Windows XP and Windows 95).</p>
<p>If you plan to explore topics overlapping with reverse engineering—such as buffer overflows or firmware analysis——you may need additional environments.</p>
<p>For example:</p>
<ul>
<li>Windows XP (to study exploits without modern protections such as ASLR and DEP)</li>
<li>Kali Linux (for generating shellcode or conducting exploit development)</li>
<li>Debian or Ubuntu (for firmware extraction and analysis)</li>
</ul>
<p>If you are interested in studying buffer overflows, you can <a href="https://iss4cf0ng.github.io/2026/01/02/2026-1-2-NoteWindowsBufferOverflow/">click here</a> to read my notes.</p>
<h2 id="Snapshot"><a href="#Snapshot" class="headerlink" title="Snapshot"></a>Snapshot</h2><p>A VMware snapshot is a point-in-time image of a virtual machine that captures its exact state—including memory, disk data, and settings—at a specific moment. It acts as a quick “undo” button for testing. It allows users to revert to a previous, stable state, through they are not intended as long-term backups.</p>
<p>Snapshots should be treated as temporary restore points rather than backup mechanisms.</p>
<h2 id="Isolation-and-Safety-Considerations"><a href="#Isolation-and-Safety-Considerations" class="headerlink" title="Isolation and Safety Considerations"></a>Isolation and Safety Considerations</h2><p>When building a malware analysis environment, always ensure that the virtual machines are isolated from your host system and external networks.<br>Snapshots should be used before executing any unknown sample.</p>
<h2 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h2><h3 id="Shared-Folder-If-necessary"><a href="#Shared-Folder-If-necessary" class="headerlink" title="Shared Folder (If necessary)"></a>Shared Folder (If necessary)</h3><p>Navigate to “Shared Folders”, select “Read-only”:</p>
<p align="center" class='item-img' data-src='/images/article/2026-2-21-ExpEnv/1.png'><img src="/images/article/2026-2-21-ExpEnv/1.png" width=800>
</p>

<h3 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h3><p>Tools are important for handling a complicated malware. You should transfer all your tools for malware analysis into the virtual machine before taking a snapshot:</p>
<p align="center" class='item-img' data-src='/images/article/2026-2-21-ExpEnv/2.png'><img src="/images/article/2026-2-21-ExpEnv/2.png" width=500>
</p>

<p align="center" class='item-img' data-src='/images/article/2026-2-21-ExpEnv/3.png'><img src="/images/article/2026-2-21-ExpEnv/3.png" width=800>
</p>


<h3 id="Snapshot-1"><a href="#Snapshot-1" class="headerlink" title="Snapshot"></a>Snapshot</h3><p>A VMware snapshot is a point-in-time image of a virtual machine that captures its exact state—including memory, disk data, and settings—at a specific moment.</p>
<p>It acts as a quick “undo” button for testing. It allows users to revert to a previous stable state, though it is not intended to be used as a long-term backup solution.</p>
<p>Snapshot → Snapshot Manager</p>
<p align="center" class='item-img' data-src='/images/article/2026-2-21-ExpEnv/4.png'><img src="/images/article/2026-2-21-ExpEnv/4.png" width=500>
</p>

<p>Next, click “Take Snapshot”:</p>
<p align="center" class='item-img' data-src='/images/article/2026-2-21-ExpEnv/5.png'><img src="/images/article/2026-2-21-ExpEnv/5.png" width=500>
</p>

<p align="center" class='item-img' data-src='/images/article/2026-2-21-ExpEnv/6.png'><img src="/images/article/2026-2-21-ExpEnv/6.png" width=500>
</p>

<p>Now, you can create additional snapshots based on the clean base snapshot:</p>
<p align="center" class='item-img' data-src='/images/article/2026-2-21-ExpEnv/7.png'><img src="/images/article/2026-2-21-ExpEnv/7.png" width=500>
</p>

<p>You can also create multiple snapshots derived from the original snapshot for different network configurations or installed applications. Note that you should power off your virtual machine of the current state before you go back to the previous state.</p>
<p align="center" class='item-img' data-src='/images/article/2026-2-21-ExpEnv/8.png'><img src="/images/article/2026-2-21-ExpEnv/8.png" width=600>
</p>

<p align="center" class='item-img' data-src='/images/article/2026-2-21-ExpEnv/9.png'><img src="/images/article/2026-2-21-ExpEnv/9.png" width=800>
</p>

<p align="center" class='item-img' data-src='/images/article/2026-2-21-ExpEnv/10.png'><img src="/images/article/2026-2-21-ExpEnv/10.png" width=800>
</p>

<p align="center" class='item-img' data-src='/images/article/2026-2-21-ExpEnv/11.png'><img src="/images/article/2026-2-21-ExpEnv/11.png" width=800>
</p>

<p>In this case, I created three snapshots with different network configurations. The <code>Clean_Base_Isolated</code> snapshot uses a dedicated virtual network and is reserved specifically for malware analysis.</p>
<p>Therefore, VMware Tools are recommanded for transferring malware samples or analysis tools into the virtual machine. However, since some malware may manipulate the clipboard, you can alternatively use a shared folder configured in read-only mode during analysis.</p>
<h1 id="Revert-to-the-Last-Snapshot"><a href="#Revert-to-the-Last-Snapshot" class="headerlink" title="Revert to the Last Snapshot"></a>Revert to the Last Snapshot</h1><p>After analyzing malware, the virtual machine system may become unstable or compromised.</p>
<p>In such cases, you can easily revert to the last clean snapshot and start your next analysis session:</p>
<p align="center" class='item-img' data-src='/images/article/2026-2-21-ExpEnv/12.png'><img src="/images/article/2026-2-21-ExpEnv/12.png" width=800>
</p>

<h1 id="THANKS-FOR-READING"><a href="#THANKS-FOR-READING" class="headerlink" title="THANKS FOR READING"></a>THANKS FOR READING</h1><p align="center" class='item-img' data-src='/images/meme/mika_nagisa_rollcake.gif'><img src="/images/meme/mika_nagisa_rollcake.gif" width=500>
</p><div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2026/02/21/2026-2-21-WinXpVMWareTool/">← Next [Troubleshooting] Installing VMware Tools on Windows XP and Windows 95 with VMware WorkStation 17</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2026/02/20/2026-2-20-Beast/">[Studying] Analyzing BeastDoor Prev →</a></div></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">∧</a><a id="to-index" href="#toc-div" title="To Catalog">≡</a><a id="color-mode" onClick="colorMode.change()" title="Change Theme"></a></div></div></article><aside><div id="about"><a target="_blank" rel="noopener" href="https://github.com/iss4cf0ng/" width="200" id="logo"><img src="https://avatars.githubusercontent.com/u/110074064?v=4" alt="Logo"></a><h1 id="Dr"><a href="/">ISSAC</a></h1><div id="description"><p>Everything is failing...</p></div><div id="social-links"><a class="social" target="_blank" rel="noopener" href="https://github.com/iss4cf0ng/"><i class="fab fa-github" alt="GitHub"></i></a></div></div><div id="music"></div><div class="music-box"><hr style="border:1px solid #ccc; margin:10px 0"><p class="music-title">Feeling exhausted? Let's enjoy (やさしい) music!</p><p style="text-align:center; position: relative"><img class="music-anime" id="anime-img" src="/images/meme/himari_coffee.2.jpg" width="150" height="200"></p><div><button class="music-btn" id="music-toggle">▶ Play Music</button><span id="music-index" style="margin-left:10px"></span></div><hr style="border:1px solid #ccc; margin:10px 0"><audio id="bg-music"><source src="/mp3/music/music_1.mp3" type="audio/mpeg"></audio><script>document.addEventListener("DOMContentLoaded", function () {
  var playlist = [
    "/mp3/music/music_1.mp3",
    "/mp3/music/sugar_story.mp3",
    "/mp3/music/story_music_box.mp3",
    "/mp3/music/musa.mp3",
    "/mp3/music/air.mp3",
    "/mp3/music/last_page.mp3",
  ];

  var current = 0;
  const audio = document.getElementById("bg-music");
  const btn = document.getElementById("music-toggle");
  const indexDisplay = document.getElementById("music-index");

  indexDisplay.innerText = `Currently: ${current + 1} / ${playlist.length}`;

  btn.addEventListener("click", function () {
    if (audio.paused) {
      audio.src = playlist[current];
      audio.play();
      btn.innerText = "⏸ Pause Music";
    } else {
      audio.pause();
      btn.innerText = "▶ Play Music";
    }
  });

  audio.addEventListener("ended", function() {
    current = (current + 1) % playlist.length;
    audio.src = playlist[current];
    audio.play();
    indexDisplay.innerText = `Currently: ${current + 1} / ${playlist.length}`;
  });
});
</script><script>document.addEventListener("DOMContentLoaded", function () {
  const animeImg = document.getElementById("anime-img");

  animeImg.addEventListener("click", function() {
    
    const tip = document.createElement("div");
    tip.innerText = "?";
    tip.style.position = "absolute";
    tip.style.top = "-50px";
    tip.style.left = "50%";
    tip.style.transform = "translateX(-50%)";
    tip.style.backgroundColor = "#fff";
    tip.style.color = "rgb(16, 174, 11)";
    tip.style.padding = "2px 6px";
    tip.style.border = "1px solid #ccc";
    tip.style.borderRadius = "8px";
    tip.style.boxShadow = "0 3px 6px rgba(0,0,0,0.2)";
    tip.style.fontSize = "50px";
    tip.style.fontWeight = "bold";
    tip.style.zIndex = "1000";
    tip.style.opacity = "1";
    tip.style.transition = "opacity 1s, top 1s";
    
    animeImg.parentElement.appendChild(tip);

    setTimeout(() => {
      tip.style.opacity = "0";
      tip.style.top = "-60px";
      setTimeout(() => tip.remove(), 1000);
    }, 2000);
  });
});
</script></div><div id="aside-block"><div id="toc-div"><h1>Catalog</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Getting-Started"><span class="toc-number">2.</span> <span class="toc-text">Getting Started</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Virtual-Machine"><span class="toc-number">2.1.</span> <span class="toc-text">Virtual Machine</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Snapshot"><span class="toc-number">2.2.</span> <span class="toc-text">Snapshot</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Isolation-and-Safety-Considerations"><span class="toc-number">2.3.</span> <span class="toc-text">Isolation and Safety Considerations</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Setup"><span class="toc-number">2.4.</span> <span class="toc-text">Setup</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Shared-Folder-If-necessary"><span class="toc-number">2.4.1.</span> <span class="toc-text">Shared Folder (If necessary)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tools"><span class="toc-number">2.4.2.</span> <span class="toc-text">Tools</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Snapshot-1"><span class="toc-number">2.4.3.</span> <span class="toc-text">Snapshot</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Revert-to-the-Last-Snapshot"><span class="toc-number">3.</span> <span class="toc-text">Revert to the Last Snapshot</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#THANKS-FOR-READING"><span class="toc-number">4.</span> <span class="toc-text">THANKS FOR READING</span></a></li></ol></div></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {code.findCode();
document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script><script src="/js/slide.js"></script></body></html>