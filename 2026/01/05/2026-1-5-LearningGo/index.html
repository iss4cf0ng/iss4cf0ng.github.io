<!DOCTYPE html><html lang="en-us" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>[Book] Learning Go | ISSAC/iss4cf0ng's blog</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":true,"activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy","copyFinish":"copied","expand":"expand"}}</script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.1/MathJax.js"></script><script>MathJax.Hub.Config({
 menuSettings: {
   zoom: "None"
 },
 showMathMenu: false,
 jax: ["input/TeX","output/CommonHTML"],
 extensions: ["tex2jax.js"],
 TeX: {
   extensions: ["AMSmath.js","AMSsymbols.js"],
   equationNumbers: {
     autoNumber: "AMS"
   }
 },
 tex2jax: {
   inlineMath: [["\\(", "\\)"]],
   displayMath: [["\\[", "\\]"]]
 }
});</script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/brands.min.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Brands';
 src: local('Font Awesome 6 Brands'), url('/lib/fontawesome/fa-brands.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Free';
 src: local('Font Awesome 6 Free'), url('/lib/fontawesome/fa-regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg');
  --light-background: url('/img/bk.jpg');
}</style><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ISSAC/iss4cf0ng's blog" type="application/atom+xml">
</head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/About/"><span class="navItemTitle">About</span></a></li><li class="navItem"><a class="navBlock" href="/Alien/"><span class="navItemTitle">Alien</span></a></li><li class="navItem"><a class="navBlock" href="/2026/01/28/2026-1-28-ToolsDuplexSpy-v2-0-0/"><span class="navItemTitle">DuplexSpy</span></a></li><li class="navItem"><a class="navBlock" href="/Notes/"><span class="navItemTitle">Notes</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>[Book] Learning Go</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2026-01-04T16:10:20.000Z" id="date"> 2026-01-05</time></div></span><br><span>Last Update: <div class="control"><time datetime="2026-02-22T05:06:58.307Z" id="updated"> 2026-02-22</time></div></span><br><span>Word Count: <div class="control">4.4k</div></span><br><span>Read Time: <div class="control">27 min</div></span></div></div><hr><div id="post-content"><h1 id="El-libro"><a href="#El-libro" class="headerlink" title="El libro"></a>El libro</h1><p align="center" class='item-img' data-src='/images/books/LearningGo/libro.jpg'><img src="/images/books/LearningGo/libro.jpg">
</p>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>This article is used to keep notes and summaries of the book ‚ÄúLearning Go‚Äù.<br>The content will be continuously updated as I read through the book.</p>
<h1 id="Chapter-1-Setting-Up-Your-Go-Environment"><a href="#Chapter-1-Setting-Up-Your-Go-Environment" class="headerlink" title="Chapter.1 - Setting Up Your Go Environment"></a>Chapter.1 - Setting Up Your Go Environment</h1><h2 id="The-go-command"><a href="#The-go-command" class="headerlink" title="The go command"></a>The <code>go</code> command</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">package main<br><br>import &quot;fmt&quot;<br><br>func main() &#123;<br>    fmt.Println(&quot;Hello, world!&quot;)<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">&gt; go run hello.go<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">&gt; go build hello.go<br></code></pre></td></tr></table></figure>
<p>This creates an executable called <strong>hello</strong> (or <strong>hello.exe</strong> on Windows) in the current directory.</p>
<h2 id="Makefiles"><a href="#Makefiles" class="headerlink" title="Makefiles"></a>Makefiles</h2><p>Here‚Äôs a sample Makefile to add to our very simple project:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">.DEFAULT_GOAL := build<br><br>fmt:<br>    go fmt ./...<br>.PHONY:fmt<br><br>lint: fmt<br>    golint ./...<br>.PHONY: lint<br><br>vet: fmt<br>    go vet ./...<br>.PHONY:vet<br><br>build: vet<br>go build hello.go<br>.PHONY:build<br></code></pre></td></tr></table></figure><br>Each possible operation is called a <strong>target</strong>. The <code>.DEFAULT_GOAL</code> defines which target is run when no target is specified. In our case, we are going to run the build target.</p>
<p>The world before the colon (:) is the name of the target. Any words after the target (like <code>vet</code> in the line <code>build: vet</code>) are the other targets that must be run before the specified target runs. The taks that are performed by the target are on the indented lines after the target (The)</p>
<p>Once theMakefile is in your directory, type:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">&gt; make<br></code></pre></td></tr></table></figure></p>
<h1 id="Chapter-2-Primative-Types-and-Declarations"><a href="#Chapter-2-Primative-Types-and-Declarations" class="headerlink" title="Chapter.2 - Primative Types and Declarations"></a>Chapter.2 - Primative Types and Declarations</h1><h2 id="Complex-Number"><a href="#Complex-Number" class="headerlink" title="Complex Number"></a>Complex Number</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">func main() &#123;<br>    x := complex(2.5, 3.1)<br>    y := complex(10.2, 2)<br>    fmt.Println(x + y)<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="var-vs"><a href="#var-vs" class="headerlink" title="var vs. :="></a>var vs. :=</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x int = 10<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x = 10<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x int<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x, y int = 10, 20<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x, y int<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x, y = 10, &quot;hello&quot;<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var (<br>    x int<br>    y = 20<br>    z int = 30<br>    d, e, = 40, &quot;hello&quot;<br>    f, g string<br>)<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x = 10<br>x := 10<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x, y = 10, &quot;hello&quot;<br>x, y := 10, &quot;hello&quot;<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x := 10<br>x, y := 30, &quot;hello&quot;<br></code></pre></td></tr></table></figure>
<h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><p>Code:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">const x int64 = 10<br>const (<br>    idKey = &quot;id&quot;<br>    nameKey = &quot;name&quot;<br>)<br><br>const z = 20 * 10<br><br>func main() &#123;<br>    const y = &quot;hello&quot;<br>    <br>    fmt.Println(x)<br>    fmt.Println(y)<br><br>    x = x + 1<br>    y = &quot;bye&quot;<br><br>    fmt.Println(x)<br>    fmt.Println(y)<br>&#125;<br></code></pre></td></tr></table></figure><br>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">./prog.go:21:2: cannot assign to x (neither addressable nor a map index expression)<br>./prog.go:22:2: cannot assign to y (neither addressable nor a map index expression)<br><br>Go build failed.<br></code></pre></td></tr></table></figure></p>
<hr>
<h2 id="Typed-and-Untyped-Constant"><a href="#Typed-and-Untyped-Constant" class="headerlink" title="Typed and Untyped Constant"></a>Typed and Untyped Constant</h2><p>Untyped constant:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">const x = 10<br></code></pre></td></tr></table></figure></p>
<p>All of the following assignments are legal:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var y int = x<br>var x float64 = x<br>var d byte = x<br></code></pre></td></tr></table></figure></p>
<p>Here‚Äôs what a typed constant declaration looks like:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">const typedX int = 10<br></code></pre></td></tr></table></figure><br>This constant can only be assigned directly to an <code>int</code>. Assigning it to any other type produces a compile-time error.</p>
<h2 id="Unused-Variables"><a href="#Unused-Variables" class="headerlink" title="Unused Variables"></a>Unused Variables</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">func main() &#123;<br>    x := 10<br>    x = 20<br>    fmt.Println(x)<br>    x = 30<br>&#125;<br></code></pre></td></tr></table></figure>
<p>The Go compiler allows you to create unread constants with <code>const</code>. This is because constants in Go are calculated at compile time and cannot have any side effects. This makes them easy to eliminate: if a constant isn‚Äôt used, it is simply not included in the compiled binary.</p>
<h2 id="Naming-Variables-and-Constants"><a href="#Naming-Variables-and-Constants" class="headerlink" title="Naming Variables and Constants"></a>Naming Variables and Constants</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//Example 2-4. Variable names you should never use<br>_0 := 0_0<br>_ùüô := 20<br>œÄ := 3 //pi<br>ÔΩÅ := &quot;hello&quot; //Full-width (Shift + Space)<br><br>fmt.Println(_0)<br>fmt.Println(_ùüô)<br>fmt.Println(œÄ)<br>fmt.Println(ÔΩÅ)<br></code></pre></td></tr></table></figure>
<p>asd<br>While this code works <strong>DO NOT</strong> name your variable like this.</p>
<h1 id="Chapter-3-Composite-Types"><a href="#Chapter-3-Composite-Types" class="headerlink" title="Chapter.3 - Composite Types"></a>Chapter.3 - Composite Types</h1><h2 id="Arrays‚Äî‚ÄîToo-Rigid-to-Use-Directly"><a href="#Arrays‚Äî‚ÄîToo-Rigid-to-Use-Directly" class="headerlink" title="Arrays‚Äî‚ÄîToo Rigid to Use Directly"></a>Arrays‚Äî‚ÄîToo Rigid to Use Directly</h2><p>Arrays are rarely used directly in Go.</p>
<p>All of the elements in the array must be of the type that‚Äôs specified (this doesn‚Äôt mean they are always of the same type). There are a few different declaration styles.<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x [3]int<br></code></pre></td></tr></table></figure></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x = [3]int&#123;10, 20, 30&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x = [12]int&#123;1, 5: 4, 6, 10: 100, 15&#125;<br>//This creates an array of 12 ints with the following values: [1, 0, 0, 0, 0, 4, 6, 0, 0, 0,<br>100, 15].<br></code></pre></td></tr></table></figure>
<p>When using an array literal to initialize an array, you can leave off the number and use <code>...</code> instead:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x = [...]int&#123;10, 20, 30&#125;<br></code></pre></td></tr></table></figure></p>
<p>You can use <code>==</code> and <code>!=</code> to compare arrays:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x = [...]int&#123;1, 2, 3&#125;<br>var y = [3]int&#123;1, 2, 3&#125;<br>fmt.Println(x == y) // prints true<br></code></pre></td></tr></table></figure></p>
<p>Go only has one-dimensional arrays, but you can simulate multidimensional arrays:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x [2][3]int<br></code></pre></td></tr></table></figure><br>This declares <code>x</code> to be an array of length 2 whose type is an array of ints of length 3.</p>
<p>Note that you cannot read or write past the end of an array or use negative index. If you do this with a constant or literal index, it is a compile-time error.</p>
<p>Finally, the built-in funciton <code>len</code> takes in an array and returns its length:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">fmt.Println(len(x))<br></code></pre></td></tr></table></figure></p>
<p>Go considers the <code>size</code> of the array to be part of the <code>type</code> of the array. This makes an array that‚Äôs declared to be <code>[3]int</code> a different type from an array that‚Äôs declared to be <code>[4]int</code>. This also means that you cannot use a variable to specify the size of an array, because types must be resolved at compile time, not at runtime.</p>
<p>You cannot use a type conversion to convert arrays of different sizes to identical types.</p>
<h2 id="Slices"><a href="#Slices" class="headerlink" title="Slices"></a>Slices</h2><p>Most of the time, when you want a data structure that holds a sequence of values, a slice is what you should use. WHat makes slices so useful is that the length is not part of the type for a slice.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x = []int&#123;10, 20, 30&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>Using <code>[...]</code> makes an array. Using <code>[]</code> makes a slice.</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x = []int&#123;1, 5: 4, 6, 10: 100, 15&#125;<br></code></pre></td></tr></table></figure>
<hr>
<p>You can simulate multidimensional slices and make a slice of slices:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x [][]int<br></code></pre></td></tr></table></figure></p>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x[0] = 10<br>fmt.Println(x[2])<br></code></pre></td></tr></table></figure>
<hr>
<p>In Go, <code>nil</code> is an identifier that represents the lack of a value for some types. Like the untyped numeric constants we saw in the previous chapter,<code>nil</code> has no type, so it can be assigned or compared against values of different types. A nil slice contains nothing.</p>
<p>A slice is the type that isn‚Äôt <strong>comparable</strong>. It is a compile-time error to use <code>==</code> to see if two slices are identical or <code>!=</code> to see if they are different. The only thing you can compare a slice with is <code>nil</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">fmt.Println(x == nil)<br></code></pre></td></tr></table></figure>
<h3 id="append"><a href="#append" class="headerlink" title="append"></a>append</h3><p>The built-in append function is used to grow slices<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x []int<br>x = append(x, 10)<br></code></pre></td></tr></table></figure></p>
<hr>
<p>The <code>append</code> function takes at least two parameters, a slice of any type and a value of that type. It returns a slice of the same type.<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x = []int&#123;1, 2, 3&#125;<br>x = append(x, 4)<br></code></pre></td></tr></table></figure></p>
<hr>
<p>You can append more than one value at a time:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x = append(x, 5, 6, 7)<br></code></pre></td></tr></table></figure></p>
<h3 id="Capacity"><a href="#Capacity" class="headerlink" title="Capacity"></a>Capacity</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x[]int<br>fmt.Println(x, len(x), cap(x))<br>x = append(x, 10)<br>fmt.Println(x, len(x), cap(x))<br>x = append(x, 20)<br>fmt.Println(x, len(x), cap(x))<br>x = append(x, 30)<br>fmt.Println(x, len(x), cap(x))<br>x = append(x, 40)<br>fmt.Println(x, len(x), cap(x))<br>x = append(x, 50)<br>fmt.Println(x, len(x), cap(x))<br></code></pre></td></tr></table></figure>
<h3 id="make"><a href="#make" class="headerlink" title="make"></a>make</h3><p>This built-in <code>make</code> function allows us to create an empty slice that already has a length or capacity specified. It allows us to specify the type, length, and, optionally, he capacity.<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x := make([]int, 5)<br></code></pre></td></tr></table></figure></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x := make([]int, 5)<br>x = append(x, 10)<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x := make([]int, 5, 10)<br></code></pre></td></tr></table></figure>
<p>You can also create a slice with zero length, but a capacity that‚Äôs greater than zero:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x := make([]int, 0, 10)<br></code></pre></td></tr></table></figure><br>In this case, we have a non-nil slice with a length of 0, but a capacity of 10. Since the length is 0, we can‚Äôt directly index into it, but we can append values to it:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x := make([]int, 0, 10)<br>x = append(x, 5, 6, 7, 8)<br></code></pre></td></tr></table></figure><br>The value of x is now <code>[5 6 7 8]</code>, with a length of 4 and a capacity of 10.</p>
<blockquote>
<p>Never specify a capacity that‚Äôs less than the length! It is a compil-time error to do so with a constant or numeric literal. If you use a variable to specify a capacity that‚Äôs smaller than the length, your program will panic at runtime.</p>
</blockquote>
<h3 id="Declaring-Yoyr-Slice"><a href="#Declaring-Yoyr-Slice" class="headerlink" title="Declaring Yoyr Slice"></a>Declaring Yoyr Slice</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//Example 3-2: Declaring a slice that might stay nil<br>var data []int<br></code></pre></td></tr></table></figure>
<p>You can create a slice using an empty slice literal:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var x = []int&#123;&#125;<br></code></pre></td></tr></table></figure></p>
<p>Declaring a slice with default values<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">data := []int&#123;2, 4, 6, 8&#125; //numbers we appreciate<br></code></pre></td></tr></table></figure></p>
<h3 id="Slicing-Slices"><a href="#Slicing-Slices" class="headerlink" title="Slicing Slices"></a>Slicing Slices</h3><p>A <em>slice expression</em> creates a slice from a slice. It‚Äôs written inside brackets and consists of a starting offset and an ending offset, separated by a colon (<code>:</code>).<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x := []int&#123;1, 2, 3, 4&#125;<br>y := x[:2]<br>z := x[1:]<br>d := x[1:3]<br>e := x[:]<br>fmt.Println(&quot;x:&quot;, x)<br>fmt.Println(&quot;y:&quot;, y)<br>fmt.Println(&quot;z:&quot;, z)<br>fmt.Println(&quot;d:&quot;, d)<br>fmt.Println(&quot;e:&quot;, e)<br></code></pre></td></tr></table></figure><br>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x: [1 2 3 4]<br>y: [1 2]<br>z: [2 3 4]<br>d: [2 3]<br>e: [1 2 3 4]<br></code></pre></td></tr></table></figure></p>
<hr>
<p>When you take a slice from a slice, you are <strong>NOT</strong> making a copy of the data. Instead, you now have two variables that are sharing memory. This means that changes to an element in a slice affect al slices that share that element.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x := []int&#123;1, 2, 3, 4&#125;<br>y := x[:2]<br>z := x[1:]<br>x[1] = 20<br>y[0] = 10<br>z[1] = 30<br>fmt.Println(&quot;x:&quot;, x)<br>fmt.Println(&quot;y:&quot;, y)<br>fmt.Println(&quot;z:&quot;, z)<br></code></pre></td></tr></table></figure>
<p>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x: [10 20 30 4]<br>y: [10 20]<br>z: [20 30 4]<br></code></pre></td></tr></table></figure></p>
<hr>
<p>Slicing slices gets extra confusing when combined with <code>append</code>:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x := []int&#123;1, 2, 3, 4&#125;<br>y := x[:2]<br><br>fmt.Println(cap(x), cap(y))<br>y = append(y, 30)<br>fmt.Println(&quot;x: &quot;, x)<br>fmt.Println(&quot;y: &quot;, y)<br></code></pre></td></tr></table></figure><br>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">4 4<br>x:  [1 2 30 4]<br>y:  [1 2 30]<br></code></pre></td></tr></table></figure></p>
<p>Whenever you take a slice from another slice, the subslice‚Äôs capacity is set to the capacity of the original slice, minus the offset of the subslice within the original slice. This means that any unused capacity in the original slice is also shared with any subslices.</p>
<p>When we make the <code>y</code> slice from <code>x</code>, the length is set to 2, but the capacity is set to 4, the same as <code>x</code>. Since the capacity is 4, appending onto the end of <code>y</code> puts the value in the third position of <code>x</code>.</p>
<p>This behavior creates some very odd scenarios, with multiple slices appending and overwriting each other‚Äôs data:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//A more confusing example<br>x := make([]int, 0, 5)<br>x = append(x, 1, 2, 3, 4)<br>y := x[:2]<br>z := x[2:]<br>fmt.Println(cap(x), cap(y), cap(z))<br>y = append(y, 30, 40, 50)<br>x = append(x, 60)<br>z = append(z, 70)<br>fmt.Println(&quot;x:&quot;, x)<br>fmt.Println(&quot;y:&quot;, y)<br>fmt.Println(&quot;z:&quot;, z)<br></code></pre></td></tr></table></figure>
<p>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">5 5 3<br>x: [1 2 30 40 70]<br>y: [1 2 30 40 70]<br>z: [30 40 70]<br></code></pre></td></tr></table></figure></p>
<p>To avoid complicated slice situations, you should either never use <code>append</code> with a subslice or make sure that <code>append</code> doesn‚Äôt cause an overwrite by using a <strong>full slice</strong> expression:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">y := x[:2:2]<br>z := x[2:4:4]<br></code></pre></td></tr></table></figure></p>
<h3 id="Converting-Arrays-to-Slices"><a href="#Converting-Arrays-to-Slices" class="headerlink" title="Converting Arrays to Slices"></a>Converting Arrays to Slices</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x := [4]int&#123;5, 6, 7, 8&#125;<br>y := x[:2]<br>z := x[2:]<br>x[0] = 10<br>fmt.Println(&quot;x:&quot;, x)<br>fmt.Println(&quot;y:&quot;, y)<br></code></pre></td></tr></table></figure>
<p>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x: [10 6 7 8]<br>y: [10 6]<br>z: [7 8]<br></code></pre></td></tr></table></figure></p>
<h3 id="copy"><a href="#copy" class="headerlink" title="copy"></a>copy</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x := []int&#123;1, 2, 3, 4&#125;<br>y := make([]int, 4)<br>num := copy(y, x)<br>fmt.Println(y, num)<br></code></pre></td></tr></table></figure>
<p>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">[1 2 3 4] 4<br></code></pre></td></tr></table></figure></p>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x := []int&#123;1, 2, 3, 4&#125;<br>y := make([]int, 2)<br>copy(y, x[2:])<br></code></pre></td></tr></table></figure>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x := []int&#123;1, 2, 3, 4&#125;<br>num = copy(x[:3], x[1:])<br>fmt.Println(x, num)<br></code></pre></td></tr></table></figure>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x := []int&#123;1, 2, 3, 4&#125;<br>d := [4]int&#123;5, 6, 7, 8&#125;<br>y := make([]int, 2)<br>copy(y, d[:])<br>fmt.Println(y)<br>copy(d[:], x)<br></code></pre></td></tr></table></figure>
<p>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">[5 6]<br>[1 2 3 4]<br></code></pre></td></tr></table></figure></p>
<h2 id="Strings-and-Runes-and-Bytes"><a href="#Strings-and-Runes-and-Bytes" class="headerlink" title="Strings and Runes and Bytes"></a>Strings and Runes and Bytes</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var s string = &quot;Hello there&quot;<br>var b byte = s[6]<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var s string = &quot;Hello there&quot;<br>var s2 string = s[4:7]<br>var s3 string = s[:5]<br>var s4 string = s[6:]<br></code></pre></td></tr></table></figure>
<h2 id="Maps"><a href="#Maps" class="headerlink" title="Maps"></a>Maps</h2><blockquote>
<p><code>map[keyType]valueType</code><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var nilMap map[string]int<br></code></pre></td></tr></table></figure><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">totalWins := map[string]int&#123;&#125;<br></code></pre></td></tr></table></figure><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">teams := map[string][]string &#123;<br>    &quot;Orcas&quot;: []string&#123;&quot;Fred&quot;, &quot;Ralph&quot;, &quot;Bijou&quot;&#125;,<br>    &quot;Lions&quot;: []string&#123;&quot;Sarah&quot;, &quot;Peter&quot;, &quot;Billie&quot;&#125;,<br>    &quot;Kittens&quot;: []string&#123;&quot;Waldo&quot;, &quot;Raul&quot;, &quot;Ze&quot;&#125;,<br>&#125;<br></code></pre></td></tr></table></figure><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ages := make(map[int][]string, 10)<br></code></pre></td></tr></table></figure></p>
</blockquote>
<ul>
<li>Maps automatically grow as you add key-value pairs to them.</li>
<li>If you know how many key-value pairs you plan to insert into a map, you can use <code>make</code> to create a map with a specific initial size.</li>
<li>Passing a map to the <code>len</code> function tells you the number of key-value pairs in a map.</li>
<li>The zero value for a map is <code>nil</code></li>
<li>Maps are not comparable. You can check if they are equal to <code>nil</code>, but you cannot check if two maps have identical keys and values using <code>==</code> or differ using <code>!=</code></li>
</ul>
<p>The key for a map can be any comparable type. This means you cannot use a slice or a map as the key for a map.</p>
<blockquote>
<p>Learn more about hash map: GopherCon 2016, Inside the<br>Map Implementation.</p>
</blockquote>
<h3 id="Reading-and-Writing-a-Map"><a href="#Reading-and-Writing-a-Map" class="headerlink" title="Reading and Writing a Map"></a>Reading and Writing a Map</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">totalWins := map[string]int&#123;&#125;<br>totalWins[&quot;Orcas&quot;] = 1<br>totalWins[&quot;Lions&quot;] = 2<br>fmt.Println(totalWins[&quot;Orcas&quot;])<br>fmt.Println(totalWins[&quot;Kittens&quot;]) //Output: 0<br>totalWins[&quot;Kittens&quot;]++<br>fmt.Println(totalWins[&quot;Kittens&quot;]) //Output: 1<br>totalWins[&quot;Lions&quot;] = 3<br>fmt.Println(totalWins[&quot;Lions&quot;])<br></code></pre></td></tr></table></figure>
<h3 id="The-comma-ok-Idiom"><a href="#The-comma-ok-Idiom" class="headerlink" title="The comma ok Idiom"></a>The comma ok Idiom</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">m := map[string]int&#123;<br>    &quot;hello&quot;: 5,<br>    &quot;world&quot;: 0,<br>&#125;<br>v, ok := m[&quot;hello&quot;]<br>fmt.Println(v, ok)<br><br>v, ok := m[&quot;world&quot;]<br>fmt.Println(v, ok)<br><br>v, ok := m[&quot;goodbye&quot;]<br>fmt.Println(v, ok)<br></code></pre></td></tr></table></figure>
<p>Rather than assign the result of a map read to a single variable, with the comma ok idiom you assign the results of a map read to two variables. The first gets the value associated with the key. The second value returned is a bool. It is usually named <code>ok</code>. If <code>ok</code> is <code>true</code>, the key is present in the map. If <code>ok</code> is false, the key is not present.</p>
<h3 id="Deleting-from-Maps"><a href="#Deleting-from-Maps" class="headerlink" title="Deleting from Maps"></a>Deleting from Maps</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">m := map[string]int&#123;<br>    &quot;hello&quot;: 5,<br>    &quot;world&quot;: 10,<br>&#125;<br>delete(m, &quot;hello&quot;)<br></code></pre></td></tr></table></figure>
<h3 id="Using-Maps-as-Sets"><a href="#Using-Maps-as-Sets" class="headerlink" title="Using Maps as Sets"></a>Using Maps as Sets</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">intSet := map[int]bool&#123;&#125;<br>vals := []int&#123;5, 10, 2, 5, 8, 7, 3, 9, 1, 2, 10&#125;<br>for _, v := range vals &#123;<br>    intSet[v] = true<br>&#125;<br>fmt.Println(len(vals), len(intSet))<br>fmt.Println(intSet[5])<br>fmt.Println(intSet(500))<br>if intSet[100] &#123;<br>    fmt.Println(&quot;100 is in the set&quot;)<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="Structs"><a href="#Structs" class="headerlink" title="Structs"></a>Structs</h2><p>Go doesn‚Äôt have classes, because it doesn‚Äôt have inheritance. This doesn‚Äôt mean Go doesn‚Äôt have some of the features of object-oriented languages, it just does things a little differently.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">type person struct &#123;<br>    name string<br>    age int<br>    pet string<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var fred person<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">bob := personP&#123;&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">julia := person&#123;<br>    &quot;Julia&quot;,<br>    40,<br>    &quot;cat&quot;,<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">beth := person&#123;<br>    age: 30,<br>    name; &quot;Beth&quot;,<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">beth.name = &quot;Bob&quot;<br>fmt.Println(beth.name)<br></code></pre></td></tr></table></figure>
<h3 id="Anonymous-Structs"><a href="#Anonymous-Structs" class="headerlink" title="Anonymous Structs"></a>Anonymous Structs</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var person struct &#123;<br>    name string<br>    age int<br>    pet string<br>&#125;<br><br>person.name = &quot;bob&quot;<br>person.age = 50<br>person.pet = &quot;dog&quot;<br><br>pet := struct &#123;<br>    name string<br>    kind string<br>&#125;&#123;<br>    name: &quot;Fido&quot;,<br>    kind: &quot;dog&quot;,<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="Comparing-and-Converting-Structs"><a href="#Comparing-and-Converting-Structs" class="headerlink" title="Comparing and Converting Structs"></a>Comparing and Converting Structs</h3><p>Whether or not a struct is comparable depends on the struct‚Äôs field. Structs that are entirely composed of comparable types are comparable; those with slice or mmap fields are not.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">type firstPerson struct &#123;<br>    name string<br>    age int<br>&#125;<br></code></pre></td></tr></table></figure>
<p>We can use a type conversion to convert an instance of <code>firstPerson</code> to <code>secondPerson</code>, but we cannot use <code>==</code> to compare an instance of <code>firstPerson</code> and an instance of <code>secondPerson</code>, because they are different types:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">type secondPerson struct &#123;<br>    name string<br>    age int<br>&#125;<br></code></pre></td></tr></table></figure><br>We can‚Äôt convert an instance of <code>firstPerson</code> to <code>thirdPerson</code>, because the fields are in different order:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">type thirdPerson struct &#123;<br>    age int<br>    name string<br>&#125;<br></code></pre></td></tr></table></figure><br>We can‚Äôt convert an instance of <code>firstPerson</code> to <code>fourthPerson</code>, because the fields names don‚Äôt match:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">type fourthPerson struct &#123;<br>    firstName string<br>    age int<br>&#125;<br></code></pre></td></tr></table></figure><br>we can‚Äôt convert an instance of <code>firstPerson</code> to <code>fifthPerson</code> because there‚Äôs<br>an additional field:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">type fifthPerson struct &#123;<br>    name string<br>    age int<br>    favoriteColor string<br>&#125;<br></code></pre></td></tr></table></figure><br>Anonymous structs add a small twist to this: if two struct variables are being compared<br>and at least one of them has a type that‚Äôs an anonymous struct, you can compare<br>them without a type conversion if the fields of both structs have the same names,<br>order, and types<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">type firstPerson struct &#123;<br>    name string<br>    age int<br>&#125;<br>f := firstPerson&#123;<br>    name: &quot;Bob&quot;,<br>    age: 50,<br>&#125;<br>var g struct &#123;<br>    name string<br>    age int<br>&#125;<br>// compiles -- can use = and == between identical named and anonymous structs<br>g = f<br>fmt.Println(f == g)<br></code></pre></td></tr></table></figure></p>
<h1 id="Chapter-4-Blocks-Shadows-and-Control-Structures"><a href="#Chapter-4-Blocks-Shadows-and-Control-Structures" class="headerlink" title="Chapter.4 - Blocks, Shadows, and Control Structures"></a>Chapter.4 - Blocks, Shadows, and Control Structures</h1><h2 id="Blocks"><a href="#Blocks" class="headerlink" title="Blocks"></a>Blocks</h2><p>Each place where a declaration occurs is called a <strong>block</strong>. Variables, constants, types, and functions declared outside of any functions are placed in the <strong>package</strong> block.</p>
<h2 id="Shadowing-Variables"><a href="#Shadowing-Variables" class="headerlink" title="Shadowing Variables"></a>Shadowing Variables</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">func main() &#123;<br>    x := 10<br>    if x &gt; 5 &#123;<br>        fmt.Println(x)<br>        x := 5<br>        fmt.Println(x)<br>    &#125;<br><br>    fmt.Println(x)<br>&#125;<br></code></pre></td></tr></table></figure>
<p>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">10<br>5<br>10<br></code></pre></td></tr></table></figure><br>A shadowing variable is a variable that has the same name as a variable in a containing block. For as long as the shadowing variable exists, you cannot access a shadowed variable.</p>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">func main() &#123;<br>	x := 10<br>	if x &gt; 5 &#123;<br>		x, y := 5, 20<br>		fmt.Println(x, y)<br>	&#125;<br><br>	fmt.Println(x)<br>&#125;<br></code></pre></td></tr></table></figure>
<p>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">5 20<br>10<br></code></pre></td></tr></table></figure></p>
<hr>
<h2 id="if"><a href="#if" class="headerlink" title="if"></a>if</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">package main<br><br>import &quot;fmt&quot;<br>import &quot;math/rand&quot;<br><br>func main() &#123;<br>	n := rand.Intn(10)<br>	if n == 0 &#123;<br>		fmt.Println(&quot;That&#x27;s too low&quot;)<br>	&#125; else if n &gt; 5 &#123;<br>		fmt.Println(&quot;That&#x27;s too big:&quot;, n)<br>	&#125; else &#123;<br>		fmt.Println(&quot;That&#x27;s a good number:&quot;, n)<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>If you run this code, you‚Äôwll find that it always assigns <code>1</code> to <code>n</code>. This happends because the default random number seed in <code>math/rand</code> is hard-coded.</p>
<p>Go doesn‚Äôt need parenthesis around the condition. But there‚Äôs another feature that Go adds to <code>if</code> statements that helps you better manager your variables.</p>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//Example 4.6: Scoping a variable to an if statement<br>if n := rand.Intn(10); n == 0 &#123;<br>    fmt.Println(&quot;That&#x27;s too low&quot;)<br>&#125; else if n &gt; 5 &#123;<br>    fmt.Println(&quot;That&#x27;s too big:&quot;, n)<br>&#125; else &#123;<br>    fmt.Println(&quot;That&#x27;s a good number:&quot;, n)<br>&#125;<br></code></pre></td></tr></table></figure>
<p>It lets you create variables that are available only where they are needed. Once the series of <code>if/else</code> statements ends, <code>n</code> is undefined.</p>
<h2 id="for-Four-Ways"><a href="#for-Four-Ways" class="headerlink" title="for, Four Ways"></a>for, Four Ways</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//Example 4-8. A complete for statement<br>for i := 0; i &lt; 10; i++ &#123;<br>    fmt.Println(i)<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//Example 4-9. A condition-only for statement<br>i := 1<br>for i &lt; 100 &#123;<br>    fmt.Println(i)<br>    i = i * 2<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//Example 4-10. Infinite loop<br>func main() &#123;<br>    for &#123;<br>        fmt.Println(&quot;Hello&quot;)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="break-and-continue"><a href="#break-and-continue" class="headerlink" title="break and continue"></a>break and continue</h3><p>There is no Go equivalent of the <code>do</code> keyword in Java, C and JavaScript. If you want to iterate at least once, the cleanest way is to use an infinite <code>for</code> loop that ends with an <code>if</code> statement:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">for &#123;<br>    //do something.<br>    if !CONDITION &#123;<br>        break<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//Example 4-11. Confusing code<br>for i := 1; i &lt;= 100; i++ &#123;<br>    if i%3 == 0 &#123;<br>        if i%5 == 0 &#123;<br>            fmt.Println(&quot;FizzBuzz&quot;)<br>        &#125; else &#123;<br>            fmt.Println(&quot;Fizz&quot;)<br>        &#125;<br>    &#125; else if i%5 == 0 &#123;<br>        fmt.Println(&quot;Buzz&quot;)<br>    &#125; else &#123;<br>        fmt.Println(i)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><br>Go encourages short <code>if</code> statement bodies, as left-align as possible. Nested code is difficult to follow. Using a <code>continue</code> statement makes it easier to understand what‚Äôs going on.<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//Example 4-12. Using continue to make code clearer<br>for i := 1; i &lt;= 100; i++ &#123;<br>    if i%3 == 0 &amp;&amp; i%5 == 0 &#123;<br>        fmt.Println(&quot;FizzBuzz&quot;)<br>        continue<br>    &#125;<br>    if i%3 == 0 &#123;<br>        fmt.Println(&quot;Fizz&quot;)<br>        continue<br>    &#125;<br>    if i%5 == 0 &#123;<br>        fmt.Println(&quot;Buzz&quot;)<br>        continue<br>    &#125;<br>    fmt.Println(i)<br>&#125;<br></code></pre></td></tr></table></figure></p>
<h3 id="The-for-range-Statement"><a href="#The-for-range-Statement" class="headerlink" title="The for-range Statement"></a>The for-range Statement</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//Example 4-13. The for-range loop<br>evenVals := []int&#123;2, 4, 6, 8, 10, 12&#125;<br>for i, v := range evenVals &#123;<br>    fmt.Println(i, v)<br>&#125;<br></code></pre></td></tr></table></figure>
<p>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">0 2<br>1 4<br>2 6<br>3 8<br>4 10<br>5 12<br></code></pre></td></tr></table></figure><br>The first variable is the position in the data structure being iterated, while the second is the value at that position.<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//Example 4-14. Ignoring the key in a for-range loop<br>evenVals := []int&#123;2, 4, 6, 8, 10, 12&#125;<br>for _, v := range evenVals &#123;<br>    fmt.Println(v)<br>&#125;<br></code></pre></td></tr></table></figure><br>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">2<br>4<br>6<br>8<br>10<br>12<br></code></pre></td></tr></table></figure></p>
<h3 id="Iterating-over-maps"><a href="#Iterating-over-maps" class="headerlink" title="Iterating over maps"></a>Iterating over maps</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">m := map[string]int&#123;<br>    &quot;a&quot;: 1,<br>    &quot;c&quot;: 3,<br>    &quot;b&quot;: 2,<br>&#125;<br><br>for i := 0; i &lt; 3; i++ &#123;<br>    fmt.Println(&quot;Loop&quot;, i)<br>    for k, v := range m &#123;<br>        fmt.Println(k, v)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Loop 0<br>c 3<br>b 2<br>a 1<br>Loop 1<br>a 1<br>c 3<br>b 2<br>Loop 2<br>a 1<br>c 3<br>b 2<br></code></pre></td></tr></table></figure><br>The order of the keys and values varies; some runs may be identical. This is actually a security feature. In earlier Go versions, the iteration order for keys in a map was usually (but not always) the same if you inserted the same items into a map. This caused two problems:</p>
<ul>
<li>People would write code that assumed that the order was fixed, and this would break at weired times.</li>
<li>If maps always hash items to the exact same values, and you know that a server is storing some user data in a map, you can actually slow down a server with an attack called <strong>Hash DoS</strong> by sending it specially crafted data where all of the keys hash to the same bucket.</li>
</ul>
<h3 id="Iterating-over-strings"><a href="#Iterating-over-strings" class="headerlink" title="Iterating over strings"></a>Iterating over strings</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">samples := []string&#123;&quot;hello&quot;, &quot;apple_œÄ!&quot;&#125;<br>for _, sample := range samples &#123;<br>    for i, r := range sample &#123;<br>        fmt.Println(i, r, string(r))<br>    &#125;<br><br>    fmt.Println()<br>&#125;<br></code></pre></td></tr></table></figure>
<p>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">0 104 h<br>1 101 e<br>2 108 l<br>3 108 l<br>4 111 o<br><br>0 97 a<br>1 112 p<br>2 112 p<br>3 108 l<br>4 101 e<br>5 95 _<br>6 960 œÄ<br>8 33 !<br></code></pre></td></tr></table></figure><br>In the first column, we have the index; in the second, the numeric value of the letter; and in the third, we have the numeric value of the letter type converted to a string.</p>
<p>For <code>apple_œÄ</code>, notice that the first column skips the number 7. Second, the value at position 6 is 960. That‚Äôs far larger than what can fit in a byte (2^8 = 256)</p>
<h2 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//Example 4-19:<br>words := []string&#123;&quot;a&quot;, &quot;cow&quot;, &quot;smile&quot;, &quot;gopher&quot;, &quot;octopus&quot;, &quot;anthropologist&quot;&#125;<br>for _, word := range words &#123;<br>    switch size := len(word); size &#123;<br>    case 1, 2, 3, 4:<br>        fmt.Println(word, &quot;is a short word!&quot;)<br>    case 5:<br>        wordLen := len(word)<br>        fmt.Println(word, &quot;is exactly the right length:&quot;, wordLen)<br>    case 6, 7, 8, 9:<br><br>    default:<br>        fmt.Println(word, &quot;is a long word!&quot;)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">a is a short word!<br>cow is a short word!<br>smile is exactly the right length: 5<br>anthropologist is a long word!<br></code></pre></td></tr></table></figure></p>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//Example 4-20: The case of missing label<br>for i := 0; i &lt; 10; i++ &#123;<br>    switch &#123;<br>    case i%2 == 0:<br>        fmt.Println(i, &quot;is even&quot;)<br>    case i%3 == 0:<br>        fmt.Println(i, &quot;is divisible by 3 but not 2&quot;)<br>    case i%7 == 0:<br>        fmt.Println(&quot;Exit the loop&quot;)<br>        break<br>    default:<br>        fmt.Println(i, &quot;is boring&quot;)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">0 is even<br>1 is boring<br>2 is even<br>3 is divisible by 3 but not 2<br>4 is even<br>5 is boring<br>6 is even<br>Exit the loop<br>8 is even<br>9 is divisible by 3 but not 2<br></code></pre></td></tr></table></figure><br>This is not what we intended. To break to loop, we can modify the example 4-20 to 4-21:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">func main() &#123;<br>	loop:<br>		for i := 0; i &lt; 10; i++ &#123;<br>			switch &#123;<br>			case i%2 == 0:<br>				fmt.Println(i, &quot;is even&quot;)<br>			case i%3 == 0:<br>				fmt.Println(i, &quot;is divisible by 3 but not 2&quot;)<br>			case i%7 == 0:<br>				fmt.Println(&quot;Exit the loop&quot;)<br>				break loop<br>			default:<br>				fmt.Println(i, &quot;is boring&quot;)<br>			&#125;<br>		&#125;<br>&#125;<br></code></pre></td></tr></table></figure><br>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">0 is even<br>1 is boring<br>2 is even<br>3 is divisible by 3 but not 2<br>4 is even<br>5 is boring<br>6 is even<br>Exit the loop<br></code></pre></td></tr></table></figure><br>Of course, we can change the label <code>loop</code> to anything like <code>Peter</code>.</p>
<h2 id="Blank-Swiches"><a href="#Blank-Swiches" class="headerlink" title="Blank Swiches"></a>Blank Swiches</h2><h1 id="Chapter-5-Functions"><a href="#Chapter-5-Functions" class="headerlink" title="Chapter.5 - Functions"></a>Chapter.5 - Functions</h1><h3 id="Declaring-and-Calling-Functions"><a href="#Declaring-and-Calling-Functions" class="headerlink" title="Declaring and Calling Functions"></a>Declaring and Calling Functions</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">func div(numerator int, denominator int) int &#123;<br>    if denominator == 0 &#123;<br>        return 0<br>    &#125;<br><br>    return numerator / denominator<br>&#125;<br><br>func main() &#123;<br>    result := div(5, 2)<br>    fmt.Println(result)<br>&#125;<br></code></pre></td></tr></table></figure>
<p>When you have multiple input parameters of the same type, you can write your input parameters like this:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">func div(numerator, denominator int) int &#123;<br><br>&#125;<br></code></pre></td></tr></table></figure></p>
<hr>
<p>Go doesn‚Äôt have named and optiona input parameters. You must apply all of the parameters for a function. If you want to emulate named and optional parameters, define a struct that has fields that match the desired parameters, and pass the struct to your function.<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//Example 5-1.<br>type MyFuncOpts struct &#123;<br>    FirstName string<br>    LastName string<br>    Age int<br>&#125;<br><br>func MyFunc(opts MyFuncOpts) error &#123;<br>    //do something here<br>&#125;<br><br>func main() &#123;<br>    MyFunc(MyFuncOpts &#123;<br>        LastName: &quot;Patel&quot;,<br>        Age: 50,<br>    &#125;)<br>    MyFunc(MyFuncOpts &#123;<br>        FirstName: &quot;Joe&quot;,<br>        LastName:  &quot;Smith&quot;,<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure><br>In practice, not having named and optional parameters isn‚Äôt a limitation. A function shouldn‚Äôt have more than a few parameters, and named and optional parameters are mostly useful when a function has many inputs.</p>
<h1 id="Chapter-6-Pointers"><a href="#Chapter-6-Pointers" class="headerlink" title="Chapter.6 - Pointers"></a>Chapter.6 - Pointers</h1><h1 id="Chapter-7-Types-Methods-and-Interfaces"><a href="#Chapter-7-Types-Methods-and-Interfaces" class="headerlink" title="Chapter.7 - Types, Methods, and Interfaces"></a>Chapter.7 - Types, Methods, and Interfaces</h1><h1 id="Chapter-8-Errors"><a href="#Chapter-8-Errors" class="headerlink" title="Chapter.8 - Errors"></a>Chapter.8 - Errors</h1><div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2026/01/05/2026-1-5-RedBlueConfrontationFromAttCk/">‚Üê Next [Book] Practical Guide To Red-Blue Confrontation From ATT&amp;CK</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2026/01/05/2026-1-5-ProgrammingRust/">[Book] Programming Rust Prev ‚Üí</a></div></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">‚àß</a><a id="to-index" href="#toc-div" title="To Catalog">‚â°</a><a id="color-mode" onClick="colorMode.change()" title="Change Theme"></a></div></div></article><aside><div id="about"><a target="_blank" rel="noopener" href="https://github.com/iss4cf0ng/" width="200" id="logo"><img src="https://avatars.githubusercontent.com/u/110074064?v=4" alt="Logo"></a><h1 id="Dr"><a href="/">ISSAC</a></h1><div id="description"><p>Everything is failing...</p></div><div id="social-links"><a class="social" target="_blank" rel="noopener" href="https://github.com/iss4cf0ng/"><i class="fab fa-github" alt="GitHub"></i></a></div></div><div id="music"></div><div class="music-box"><hr style="border:1px solid #ccc; margin:10px 0"><p class="music-title">Feeling exhausted? Let's enjoy („ÇÑ„Åï„Åó„ÅÑ) music!</p><p style="text-align:center"><img class="music-anime" src="/images/meme/himari_coffee.2.jpg" width="150" height="200"></p><div><button class="music-btn" id="music-toggle">‚ñ∂ Play Music</button><span id="music-index" style="margin-left:10px"></span></div><hr style="border:1px solid #ccc; margin:10px 0"><audio id="bg-music"><source src="/mp3/music/music_1.mp3" type="audio/mpeg"></audio><script>document.addEventListener("DOMContentLoaded", function () {
  var playlist = [
    "/mp3/music/music_1.mp3",
    "/mp3/music/sugar_story.mp3",
    "/mp3/music/story_music_box.mp3",
    "/mp3/music/musa.mp3",
    "/mp3/music/air.mp3",
    "/mp3/music/last_page.mp3",
  ];

  var current = 0;
  const audio = document.getElementById("bg-music");
  const btn = document.getElementById("music-toggle");
  const indexDisplay = document.getElementById("music-index");

  indexDisplay.innerText = `Currently: ${current + 1} / ${playlist.length}`;

  btn.addEventListener("click", function () {
    if (audio.paused) {
      audio.src = playlist[current];
      audio.play();
      btn.innerText = "‚è∏ Pause Music";
    } else {
      audio.pause();
      btn.innerText = "‚ñ∂ Play Music";
    }
  });

  audio.addEventListener("ended", function() {
    current = (current + 1) % playlist.length;
    audio.src = playlist[current];
    audio.play();
    indexDisplay.innerText = `Currently: ${current + 1} / ${playlist.length}`;
  });
});</script></div><div id="aside-block"><div id="toc-div"><h1>Catalog</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#El-libro"><span class="toc-number">1.</span> <span class="toc-text">El libro</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Introduction"><span class="toc-number">2.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-1-Setting-Up-Your-Go-Environment"><span class="toc-number">3.</span> <span class="toc-text">Chapter.1 - Setting Up Your Go Environment</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#The-go-command"><span class="toc-number">3.1.</span> <span class="toc-text">The go command</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Makefiles"><span class="toc-number">3.2.</span> <span class="toc-text">Makefiles</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-2-Primative-Types-and-Declarations"><span class="toc-number">4.</span> <span class="toc-text">Chapter.2 - Primative Types and Declarations</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Complex-Number"><span class="toc-number">4.1.</span> <span class="toc-text">Complex Number</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#var-vs"><span class="toc-number">4.2.</span> <span class="toc-text">var vs. :&#x3D;</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#const"><span class="toc-number">4.3.</span> <span class="toc-text">const</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Typed-and-Untyped-Constant"><span class="toc-number">4.4.</span> <span class="toc-text">Typed and Untyped Constant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unused-Variables"><span class="toc-number">4.5.</span> <span class="toc-text">Unused Variables</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Naming-Variables-and-Constants"><span class="toc-number">4.6.</span> <span class="toc-text">Naming Variables and Constants</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-3-Composite-Types"><span class="toc-number">5.</span> <span class="toc-text">Chapter.3 - Composite Types</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Arrays%E2%80%94%E2%80%94Too-Rigid-to-Use-Directly"><span class="toc-number">5.1.</span> <span class="toc-text">Arrays‚Äî‚ÄîToo Rigid to Use Directly</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Slices"><span class="toc-number">5.2.</span> <span class="toc-text">Slices</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#append"><span class="toc-number">5.2.1.</span> <span class="toc-text">append</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Capacity"><span class="toc-number">5.2.2.</span> <span class="toc-text">Capacity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#make"><span class="toc-number">5.2.3.</span> <span class="toc-text">make</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Declaring-Yoyr-Slice"><span class="toc-number">5.2.4.</span> <span class="toc-text">Declaring Yoyr Slice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Slicing-Slices"><span class="toc-number">5.2.5.</span> <span class="toc-text">Slicing Slices</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Converting-Arrays-to-Slices"><span class="toc-number">5.2.6.</span> <span class="toc-text">Converting Arrays to Slices</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#copy"><span class="toc-number">5.2.7.</span> <span class="toc-text">copy</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Strings-and-Runes-and-Bytes"><span class="toc-number">5.3.</span> <span class="toc-text">Strings and Runes and Bytes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maps"><span class="toc-number">5.4.</span> <span class="toc-text">Maps</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Reading-and-Writing-a-Map"><span class="toc-number">5.4.1.</span> <span class="toc-text">Reading and Writing a Map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-comma-ok-Idiom"><span class="toc-number">5.4.2.</span> <span class="toc-text">The comma ok Idiom</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Deleting-from-Maps"><span class="toc-number">5.4.3.</span> <span class="toc-text">Deleting from Maps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-Maps-as-Sets"><span class="toc-number">5.4.4.</span> <span class="toc-text">Using Maps as Sets</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Structs"><span class="toc-number">5.5.</span> <span class="toc-text">Structs</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Anonymous-Structs"><span class="toc-number">5.5.1.</span> <span class="toc-text">Anonymous Structs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Comparing-and-Converting-Structs"><span class="toc-number">5.5.2.</span> <span class="toc-text">Comparing and Converting Structs</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-4-Blocks-Shadows-and-Control-Structures"><span class="toc-number">6.</span> <span class="toc-text">Chapter.4 - Blocks, Shadows, and Control Structures</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Blocks"><span class="toc-number">6.1.</span> <span class="toc-text">Blocks</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shadowing-Variables"><span class="toc-number">6.2.</span> <span class="toc-text">Shadowing Variables</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#if"><span class="toc-number">6.3.</span> <span class="toc-text">if</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for-Four-Ways"><span class="toc-number">6.4.</span> <span class="toc-text">for, Four Ways</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#break-and-continue"><span class="toc-number">6.4.1.</span> <span class="toc-text">break and continue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-for-range-Statement"><span class="toc-number">6.4.2.</span> <span class="toc-text">The for-range Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Iterating-over-maps"><span class="toc-number">6.4.3.</span> <span class="toc-text">Iterating over maps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Iterating-over-strings"><span class="toc-number">6.4.4.</span> <span class="toc-text">Iterating over strings</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#switch"><span class="toc-number">6.5.</span> <span class="toc-text">switch</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Blank-Swiches"><span class="toc-number">6.6.</span> <span class="toc-text">Blank Swiches</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-5-Functions"><span class="toc-number">7.</span> <span class="toc-text">Chapter.5 - Functions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Declaring-and-Calling-Functions"><span class="toc-number">7.0.1.</span> <span class="toc-text">Declaring and Calling Functions</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-6-Pointers"><span class="toc-number">8.</span> <span class="toc-text">Chapter.6 - Pointers</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-7-Types-Methods-and-Interfaces"><span class="toc-number">9.</span> <span class="toc-text">Chapter.7 - Types, Methods, and Interfaces</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-8-Errors"><span class="toc-number">10.</span> <span class="toc-text">Chapter.8 - Errors</span></a></li></ol></div></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {code.findCode();
document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script><script src="/js/slide.js"></script></body></html>