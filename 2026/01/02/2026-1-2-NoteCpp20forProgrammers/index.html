<!DOCTYPE html><html lang="en-us" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>[Book] C++ 20 for Programmers - An Objects-Natural Appraoch | ISSAC/iss4cf0ng's blog</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":true,"activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy","copyFinish":"copied","expand":"expand"}}</script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.1/MathJax.js"></script><script>MathJax.Hub.Config({
 menuSettings: {
   zoom: "None"
 },
 showMathMenu: false,
 jax: ["input/TeX","output/CommonHTML"],
 extensions: ["tex2jax.js"],
 TeX: {
   extensions: ["AMSmath.js","AMSsymbols.js"],
   equationNumbers: {
     autoNumber: "AMS"
   }
 },
 tex2jax: {
   inlineMath: [["\\(", "\\)"]],
   displayMath: [["\\[", "\\]"]]
 }
});</script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/brands.min.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Brands';
 src: local('Font Awesome 6 Brands'), url('/lib/fontawesome/fa-brands.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Free';
 src: local('Font Awesome 6 Free'), url('/lib/fontawesome/fa-regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg');
  --light-background: url('/img/bk.jpg');
}</style><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ISSAC/iss4cf0ng's blog" type="application/atom+xml">
</head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/About/"><span class="navItemTitle">About</span></a></li><li class="navItem"><a class="navBlock" href="/Alien/"><span class="navItemTitle">Alien</span></a></li><li class="navItem"><a class="navBlock" href="/2026/01/28/2026-1-28-ToolsDuplexSpy-v2-0-0/"><span class="navItemTitle">DuplexSpy</span></a></li><li class="navItem"><a class="navBlock" href="/Notes/"><span class="navItemTitle">Notes</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>[Book] C++ 20 for Programmers - An Objects-Natural Appraoch</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2026-01-02T11:50:24.000Z" id="date"> 2026-01-02</time></div></span><br><span>Last Update: <div class="control"><time datetime="2026-01-15T09:20:46.288Z" id="updated"> 2026-01-15</time></div></span><br><span>Word Count: <div class="control">5.4k</div></span><br><span>Read Time: <div class="control">33 min</div></span></div></div><hr><div id="post-content"><h1 id="El-libro"><a href="#El-libro" class="headerlink" title="El libro"></a>El libro</h1><p align="center" class='item-img' data-src='/images/books/Cpp20/Cpp20forProgrammer.png'><img src="/images/books/Cpp20/Cpp20forProgrammer.png", width="500">
</p>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>This article is used to keep notes and summaries of the book “C++ 20 for Programmers - An Objects-Natural Appraoch”.<br>The content will be continuously updated as I read through the book.</p>
<h1 id="Reflections"><a href="#Reflections" class="headerlink" title="Reflections"></a>Reflections</h1><ul>
<li>It definitely strengthened my knowledge of modern C++(C++20).</li>
<li>There are some typos in the book.</li>
<li>Chapters 15–17 feel somewhat abstract and require more effort to fully grasp.</li>
</ul>
<p align="center" class='item-img' data-src='/images/meme/rio_pc.jpg'><img src="/images/meme/rio_pc.jpg" width="300">
</p>

<h1 id="Chapter-8"><a href="#Chapter-8" class="headerlink" title="Chapter.8"></a>Chapter.8</h1><h2 id="8-7-Find-SubString-in-a-String"><a href="#8-7-Find-SubString-in-a-String" class="headerlink" title="8.7 - Find SubString in a String"></a>8.7 - Find SubString in a String</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">std::string s = &quot;Hello world&quot;;<br><br>s.find(&quot;l&quot;); //Start from the beginning.<br>s.rfind(&quot;l&quot;); //Start from the ending.<br><br>s.find_first_of(&quot;l&quot;);<br>s.find_last_of(&quot;l&quot;);<br>s.find_first_not_of(&quot;l&quot;);<br><br>s.erase(5); //Erase substring, start from index = 5;<br></code></pre></td></tr></table></figure>
<h2 id="8-10-Type-conversion"><a href="#8-10-Type-conversion" class="headerlink" title="8.10 - Type conversion"></a>8.10 - Type conversion</h2><div class="table-container">
<table>
<thead>
<tr>
<th>To Integer</th>
<th>Return Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>stoi</td>
<td>int</td>
</tr>
<tr>
<td>stol</td>
<td>long</td>
</tr>
<tr>
<td>stoul</td>
<td>unsigned long</td>
</tr>
<tr>
<td>stoll</td>
<td>long long</td>
</tr>
<tr>
<td>stoull</td>
<td>unsigned long long</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th>To Float</th>
<th>Return Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>stof</td>
<td>float</td>
</tr>
<tr>
<td>stod</td>
<td>double</td>
</tr>
<tr>
<td>stold</td>
<td>long double</td>
</tr>
</tbody>
</table>
</div>
<h2 id="8-13-ofstream"><a href="#8-13-ofstream" class="headerlink" title="8.13 - ofstream"></a>8.13 - ofstream</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">#include &lt;cstdlib&gt;<br>#include &lt;fmt/format.h&gt;<br>#include &lt;fstream&gt;<br>#include &lt;iostream&gt;<br>#include &lt;string&gt;<br><br>int main(int argc, char *argv[]) &#123;<br>    if (std::ofstream output&#123;&quot;clients.txt&quot;, std::ios::out&#125;) &#123;<br>        std::cout &lt;&lt; &quot;Enter the account, name, and balance.\n&quot;<br>        &lt;&lt; &quot;Enter the end-of-file to end input.\n? &quot;;<br><br>        int account;<br>        std::string name;<br>        double balance;<br><br>        while (std::cin &gt;&gt; account &gt;&gt; name &gt;&gt; balance) &#123;<br>            output &lt;&lt; fmt::format(&quot;&#123;&#125; &#123;&#125; &#123;&#125;\n&quot;, account, name, balance);<br>            std::cout &lt;&lt; &quot;? &quot;;<br>        &#125;<br>    &#125;<br>    else<br>    &#123;<br>        std::cerr &lt;&lt; &quot;File could not be opened\n&quot;;<br>        std::exit(EXIT_FAILURE);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th>Mode</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ios::app</td>
<td>Appending text to the end of the file.</td>
</tr>
<tr>
<td>ios::ate</td>
<td>Open a file for output(ofstrema), and seek to the end of the file.</td>
</tr>
<tr>
<td>ios::in</td>
<td>Open a file for input.</td>
</tr>
<tr>
<td>ios::out</td>
<td>Open a file for output.</td>
</tr>
<tr>
<td>ios::trunc</td>
<td>Open a file, and truncate(discard) the content without any warning. This is also the default action of std::out.</td>
</tr>
<tr>
<td>ios::binary</td>
<td>Open a binary file for input or output.</td>
</tr>
</tbody>
</table>
</div>
<p>close:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">output.close();<br></code></pre></td></tr></table></figure></p>
<h2 id="8-14-ifstream"><a href="#8-14-ifstream" class="headerlink" title="8.14 - ifstream"></a>8.14 - ifstream</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">fileObject.seekg(n);<br><br>fileObject.seekg(n, ios::cur);<br><br>fileObject.seekg(n, ios::end);<br><br>fileObject.seekg(0, ios::end);<br></code></pre></td></tr></table></figure>
<h2 id="8-18-Raw-String-Literal"><a href="#8-18-Raw-String-Literal" class="headerlink" title="8.18 - Raw String Literal"></a>8.18 - Raw String Literal</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">std::string windowsPath&#123;R&quot;(C:\Windows\System32\cmd.exe)&quot;&#125;;<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">R&quot;(multiple lines<br>of text)&quot;<br><br>is same as<br><br>&quot;multiple lines\nof text&quot;<br></code></pre></td></tr></table></figure>
<h1 id="Chapter-9"><a href="#Chapter-9" class="headerlink" title="Chapter.9"></a>Chapter.9</h1><h2 id="9-9-Access-the-Member-of-class"><a href="#9-9-Access-the-Member-of-class" class="headerlink" title="9.9 - Access the Member of class"></a>9.9 - Access the Member of class</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">clsAccount acccount&#123;&#125;; //Declare a class object.<br>clsAccount&amp; ref&#123;account&#125;; //ref refer a class object.<br>clsAccount* ptr&#123;&amp;account&#125;; //ptr point a class object.<br><br>account.deposit(123.45); //Call by name.<br>ref.deposit(123.45); //Call by reference.<br>ptr-&gt;deposit(123.45); //Call by pointer.<br><br></code></pre></td></tr></table></figure>
<blockquote>
<p>According to <strong>CppCoreGuidelines</strong> instead of using pointe, we should use reference.</p>
</blockquote>
<h2 id="9-11"><a href="#9-11" class="headerlink" title="9.11"></a>9.11</h2><blockquote>
<p>DRY: Don’t Repeat Yourself.</p>
</blockquote>
<h2 id="9-12-Destructor"><a href="#9-12-Destructor" class="headerlink" title="9.12 - Destructor"></a>9.12 - Destructor</h2><h3 id="Non-Static-Object"><a href="#Non-Static-Object" class="headerlink" title="Non-Static Object"></a>Non-Static Object</h3><p>If an application call <em>exit</em> or <em>abort</em>, then the destructor will not be called.</p>
<h3 id="Static-Object"><a href="#Static-Object" class="headerlink" title="Static Object"></a>Static Object</h3><p>if <em>main()</em> is terminated, or <em>exit()</em> is called, then the destructor of an object will be called. If <em>abort()</em> is called, then the destructor of an object will <strong>NOT</strong> be called.</p>
<h2 id="9-18-Friend-Function-and-Class"><a href="#9-18-Friend-Function-and-Class" class="headerlink" title="9.18 - Friend Function and Class"></a>9.18 - Friend Function and Class</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">#include &lt;fmt/format.h&gt;<br>#include &lt;iostream&gt;<br>#include &quot;fmt/format.h&gt;<br><br>class Count &#123;<br>    friend void modifyX(Count&amp; c, int value); //The original version is &quot;setX&quot;, which is an error.<br>public:<br>    int getX() const &#123;return m_x;&#125;<br>private:<br>    int m_x&#123;0&#125;;<br>&#125;<br><br>void modifyX(Count&amp; c, int value) &#123;<br>    c.m_x = value;<br>&#125;<br><br>int main() &#123;<br>    Count counter&#123;&#125;;<br><br>    std::cout &lt;&lt; fmt::format(&quot;Initial counter.m_x: &#123;&#125;\n&quot;, counter.getX());<br>    modifyX(counter, 8);<br>    std::cout &lt;&lt; fmt::format(&quot;counter.m_x after modifyX: &#123;&#125;\n&quot;, counter.getX());<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="9-21-Aggregate-Type"><a href="#9-21-Aggregate-Type" class="headerlink" title="9.21 - Aggregate Type"></a>9.21 - Aggregate Type</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">struct Record &#123;<br>    int account;<br>    string first;<br>    string last;<br>    double balance;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>CppCoreGuidlines: <a target="_blank" rel="noopener" href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#rc-class">Use class rather than struct if any member is non-public</a></p>
</blockquote>
<p>In C++11, you could not use a list initializer for an aggregate-type object<br>if any of the type’s non-static data-member declarations contained inclass<br>initializers. For example, the initialization above would have generated<br>a compilation error if the aggregate type Record were defined with a default<br>value for balance, as in:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">struct Record &#123;<br>    int account;<br>    string first;<br>    string last;<br>    double balance&#123;0.0&#125;;<br>&#125;<br></code></pre></td></tr></table></figure></p>
<p>C++14 removed this restriction. Also, if you initialize an aggregate-type<br>object with fewer initializers than there are data members in the object, as in:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Record record&#123;0, &quot;Brian&quot;, &quot;Blue&quot;&#125;;<br></code></pre></td></tr></table></figure></p>
<p>In C++20, we can use <strong>designated initializers</strong>:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Record record&#123;.first&#123;&quot;Sue&quot;&#125;, .last&#123;&quot;Green&quot;&#125;&#125;;<br></code></pre></td></tr></table></figure><br>The remaining data members get their default initializer values:</p>
<ul>
<li><strong>account</strong> is set to 0</li>
<li><strong>balance</strong> is se to its default value in the type definition——in this case, 0.0</li>
</ul>
<h1 id="Chapter-10-OOP"><a href="#Chapter-10-OOP" class="headerlink" title="Chapter.10 - OOP"></a>Chapter.10 - OOP</h1><h2 id="10-2-Base-Class-and-Derived-Class"><a href="#10-2-Base-Class-and-Derived-Class" class="headerlink" title="10.2 - Base Class and Derived Class."></a>10.2 - Base Class and Derived Class.</h2><p align="center" class='item-img' data-src='/images/books/Cpp20/class_hierarchy.png'><img src="/images/books/Cpp20/class_hierarchy.png", width="800">
</p>

<p>Administrator Teacher <strong>is-a</strong> Administrator, <strong>is-a</strong> Faculty, <strong>is-a</strong> Employee, also <strong>is-a</strong> CommunityMember.</p>
<h2 id="10-6-Relationships-Among-Objects-in-an-Inheritance-Hierarchy"><a href="#10-6-Relationships-Among-Objects-in-an-Inheritance-Hierarchy" class="headerlink" title="10.6 - Relationships Among Objects in an Inheritance Hierarchy"></a>10.6 - Relationships Among Objects in an Inheritance Hierarchy</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class Base &#123;<br>public:<br>    void f() &#123; std::cout &lt;&lt; &quot;Base::f\n&quot;; &#125;<br>&#125;;<br><br>class Derived : public Base &#123;<br>public:<br>    void g() &#123; std::cout &lt;&lt; &quot;Derived::g\n&quot;; &#125;<br>&#125;;<br><br>Base* p = new Derived();<br></code></pre></td></tr></table></figure>
<hr>
<p>What can we do?<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">p-&gt;f(); //OK!<br>p-&gt;g(); //NO!<br></code></pre></td></tr></table></figure></p>
<hr>
<p>Derived class point to base class?<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class Base &#123;&#125;;<br>class Derived : public Base &#123;&#125;;<br><br>Base b;<br>Derived* pd = &amp;b;   //NO!<br></code></pre></td></tr></table></figure></p>
<h2 id="10-7-Virtual-Function"><a href="#10-7-Virtual-Function" class="headerlink" title="10.7 - Virtual Function"></a>10.7 - Virtual Function</h2><h3 id="Virtual-Destructor"><a href="#Virtual-Destructor" class="headerlink" title="Virtual Destructor"></a>Virtual Destructor</h3><blockquote>
<p>CppCoreGuidlines: A class with any virtual functions should have a destructor that is either public and virtual or else protected and non-virtual.</p>
<p>A destructor must not fail</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">virtual ~Foo() = default;<br></code></pre></td></tr></table></figure>
<p>final:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">retureType someFunction(parameters) final;<br></code></pre></td></tr></table></figure><br><em>someFunction</em> cannot be overriden in any derived class. <strong>In a multi-level class hierarchy, this guaratees that the <em>final</em> member-function definition will be used by all subsequent direct and indirect derived classes.</strong><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class MyClass final &#123;<br>    //body<br>&#125;<br><br>class DerivedClass : public BaseClass final &#123;<br>    //body<br>&#125;<br></code></pre></td></tr></table></figure><br>Attempting to override a <em>final</em> member function or inherit from a <em>final</em> base class rsults in a compilation error.  </p>
<blockquote>
<p>Advantage: Once the compiler knows a <em>virtual</em> function cannot be overriden, it can perform various optimizations. For instance, the compiler might be able to determine at compile time the correct function to call. This optimization is called devirtualization.</p>
</blockquote>
<hr>
<h2 id="10-8-Abstract-Class-and-Pure-Virtual-Clas"><a href="#10-8-Abstract-Class-and-Pure-Virtual-Clas" class="headerlink" title="10.8 - Abstract Class and Pure Virtual Clas"></a>10.8 - Abstract Class and Pure Virtual Clas</h2><p><strong>abstract class</strong></p>
<blockquote>
<p>A class that <strong>CANNOT</strong> be instantiated(You cannot create objects of its type) and is designed to be used as a base class for other classes.</p>
</blockquote>
<p><strong>concrete class</strong></p>
<blockquote>
<p>A class that <strong>CAN</strong> be instantiated.  </p>
</blockquote>
<p>A class is made abstract by declaring one or <em><strong>more pure virtual functions</strong></em>, <strong>each specified by placing “= 0” in its function prototype</strong>, as in:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">virtual void draw() const = 0; //Pure Virtual Function.<br></code></pre></td></tr></table></figure></p>
<h2 id="10-11-Non-Virtual-Interface-Idiom"><a href="#10-11-Non-Virtual-Interface-Idiom" class="headerlink" title="10.11 - Non-Virtual Interface Idiom"></a>10.11 - Non-Virtual Interface Idiom</h2><p>According to the idiom which was first proposed by Herb Sutter in his paper:  </p>
<ol>
<li>“Prefer” to make interfaces non-virtual, using Template Method”——an object-oriented design pattern.</li>
<li>“Prefer to make <em>virtual</em> functions <em>private</em>. <strong>A derived class can override its base class’s private <em>virtual</em> functions</strong>.</li>
<li>“Only if derived classes need to invoke the base implementation of a <em>virtual</em> function, make the <em>virtual</em> function <em>protected</em>“.</li>
<li>“A base-class destructor should be either <em>public</em> and <em>virtual</em>, or <em>protected</em> and non-<em>virtual</em>.</li>
</ol>
<h2 id="10-12-Programming-to-an-interface-Not-an-Implementation"><a href="#10-12-Programming-to-an-interface-Not-an-Implementation" class="headerlink" title="10.12 - Programming to an interface, Not an Implementation"></a>10.12 - Programming to an interface, Not an Implementation</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"><br></code></pre></td></tr></table></figure>
<ul>
<li>Constructor Injection</li>
<li>Property Injection</li>
</ul>
<h2 id="10-14-Multiple-Inheritance"><a href="#10-14-Multiple-Inheritance" class="headerlink" title="10.14 - Multiple Inheritance"></a>10.14 - Multiple Inheritance</h2><h2 id="10-15-protected-Class-Member"><a href="#10-15-protected-Class-Member" class="headerlink" title="10.15 - protected Class Member"></a>10.15 - <em>protected</em> Class Member</h2><h2 id="10-16-public-protected-and-private-inheritance"><a href="#10-16-public-protected-and-private-inheritance" class="headerlink" title="10.16 - public, protected and private inheritance"></a>10.16 - <em>public</em>, <em>protected</em> and <em>private</em> inheritance</h2><h2 id="10-17-Wrap-Up"><a href="#10-17-Wrap-Up" class="headerlink" title="10.17 - Wrap-Up"></a>10.17 - Wrap-Up</h2><h1 id="Chapter-11-Operator-Overloading-Copy-Move-Semantics-and-Smart-Pointers"><a href="#Chapter-11-Operator-Overloading-Copy-Move-Semantics-and-Smart-Pointers" class="headerlink" title="Chapter.11 - Operator Overloading, Copy/Move Semantics and Smart Pointers"></a>Chapter.11 - Operator Overloading, Copy/Move Semantics and Smart Pointers</h1><h2 id="11-3-Operator-Overloading-Fundamentals"><a href="#11-3-Operator-Overloading-Fundamentals" class="headerlink" title="11.3 - Operator Overloading Fundamentals"></a>11.3 - Operator Overloading Fundamentals</h2><ol>
<li><strong>Operator Overloading Is Not Automatic</strong><br>When operators are overloaded as member functions, they must be non-<em>static</em>. They are called on an object of the class and operate on that object.</li>
<li><strong>Operators That Cannot Be Overloaded</strong><br>Most of C++’s operators can be overloaded——the following operators cannot:  <ul>
<li>. (dot) member-selection operator</li>
<li>* pointer-to-member operator</li>
<li>:: scope-resoltion operator</li>
<li>?: conditional operator</li>
</ul>
</li>
<li><p><strong>Operators That You Do Not Have to Overload</strong>  </p>
<ul>
<li>The <strong>assignment operator(=)</strong> may be used with <em>most</em> classes to perform <strong>member-wise assignment</strong> of the data members. As you’ll see <strong>this can be dangerous for classes that have pointer members</strong>. So, you’ll either explicitly overload the assignment operator or explicitly disallow the compiler from defining the default assignment operator. This is also true for the <strong>C++11 move assignment operator</strong>, which we discuss in Section 11.6.</li>
<li>The <em>*address (&amp;) operator</em> returns a pointer to the object.</li>
<li>The <strong>comma operator</strong> evaluates the expression to its left then the expression to its right, and returns the latter expression’s value. Though this operatro can be overloaded, generally, it is not.</li>
</ul>
</li>
<li><p><strong>Rules and Restrictions on Operator Overloading</strong>  </p>
<ul>
<li><strong>An operator’s precedence cannot be changed by overloading</strong>.</li>
<li>**An operator’s grouping cannot be changed by overloading.</li>
<li>**An operator’s “arity” (the number of operands an operator takes) cannot be changed by overloading.</li>
<li><strong>Only existing operators can be overloaded</strong>.</li>
<li><strong>You cannot overload operators to change how an operator works on only fundamental-type values</strong>.</li>
<li><strong>Operator overloading works only with objects of user-defined types or with a mixture of an object of a user-defined type and an object of a fundamental type</strong>.</li>
<li><strong>Related operators, like + and +=, generally must be overloaded separately</strong>.</li>
<li><strong>When overloading (), [], -&gt; or =, the operator overloading function must be declared as a class member</strong></li>
</ul>
</li>
</ol>
<blockquote>
<p>Importance: You should overload operators for class types to work as closely as possible to how they work with fundamental types. Avoid excessive or inconsistent use of operator overloading, as this can make a program cryptic and difficult to read.</p>
</blockquote>
<hr>
<h2 id="11-4-Downplaying-Dynamic-Memory-Management-with-new-and-delete"><a href="#11-4-Downplaying-Dynamic-Memory-Management-with-new-and-delete" class="headerlink" title="11.4 - (Downplaying) Dynamic Memory Management with new and delete"></a>11.4 - (Downplaying) Dynamic Memory Management with <em>new</em> and <em>delete</em></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Time* timePtr&#123;new Time&#123;&#125;&#125;;<br>delete timePtr;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>Importance: Do not <em>delete</em> memory that was not allocated by <em>new</em>. Doing so results in undefined behavior. After you <em>delete</em> a block of dynamically allocated memory, be sure not to <em>delete</em> the same block again, which typically cause a program to crash. One way to guard against this is to immediately set the pointer to <em>nullptr</em>——deleting such a pointer has not effect.</p>
</blockquote>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Time* timePtr&#123;new Time&#123;12, 45, 0&#125;&#125;;<br>int* gradesArray&#123;new int[10]&#123;&#125;&#125;;<br>delete[] gradesArray;<br></code></pre></td></tr></table></figure>
<hr>
<h2 id="11-5-Modern-C-Dynamic-Memory-Management—RAII-and-Smart-Pointers"><a href="#11-5-Modern-C-Dynamic-Memory-Management—RAII-and-Smart-Pointers" class="headerlink" title="11.5 - Modern C++ Dynamic Memory Management—RAII and Smart Pointers"></a>11.5 - Modern C++ Dynamic Memory Management—RAII and Smart Pointers</h2><blockquote>
<p>CppCoreGuidlines: Enforcing the lifetime safety profile eliminates leaks. When combined with resource safety provided by RAII(Resource Acquisition Is Initialization).</p>
</blockquote>
<p>C++11 <strong>smart pointers</strong> use RAII to manage dynamically allocated memory for you. The stanard library header <strong>\<memory\></strong> defines three smart pointer types:</p>
<ul>
<li>unique_ptr</li>
<li>shared_ptr</li>
<li>weak_ptr</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">#include &lt;fmt/format&gt;<br>#include &lt;iostream&gt;<br>#Include &lt;memory&gt;<br><br>class Integer &#123;<br>public:<br>    Integer(int i) : value&#123;i&#125; &#123;<br>        std::cout &lt;&lt; fmt::format(&quot;Constructor for Integer &#123;&#125;\n&quot;, value);<br>    &#125;<br><br>    ~Integer() &#123;<br>        std::cout &lt;&lt; fmt::format(&quot;Destructor for Integer &#123;&#125;\n&quot;, value);<br>    &#125;<br>private:<br>    int value&#123;0&#125;;<br>&#125;<br><br>int main() &#123;<br>    std::cout &lt;&lt; &quot;Creating a unique_ptr that points to an Integer\n&quot;;<br><br>    auto ptr&#123;std::make_unique&lt;Integer&gt;(7)&#125;;<br><br>    std::cout &lt;&lt; fmt::format(&quot;Integer value: &#123;&#125;\n\nMain ends\n&quot;, ptr-&gt;getValue());<br>&#125;<br></code></pre></td></tr></table></figure>
<p>Output:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Creating a unique_ptr that points to an Integer<br>Constructor for Integer 7<br>Integer value: 7<br><br>Main ends<br>Destructor for Integer 7<br></code></pre></td></tr></table></figure></p>
<hr>
<h2 id="11-6-MyArray-Case-Study-Crafting-a-Valuable-Class-with-Operator-Overloading"><a href="#11-6-MyArray-Case-Study-Crafting-a-Valuable-Class-with-Operator-Overloading" class="headerlink" title="11.6 - MyArray Case Study: Crafting a Valuable Class with Operator Overloading"></a>11.6 - MyArray Case Study: Crafting a Valuable Class with Operator Overloading</h2><p>Every class you define can have five <strong>special member functions</strong>, each of which we define in class <em>MyArray</em>.</p>
<ul>
<li>a <strong>copy constructor</strong></li>
<li>a <strong>copy assignment operator</strong></li>
<li>a <strong>move constructor</strong></li>
<li>a <strong>move assignment operator</strong></li>
<li>a <strong>destructor</strong></li>
</ul>
<p>The <strong>copy constructor</strong> and <strong>copy assignment</strong> operator implement the class’s copy semantics—that is, how to copy a <em>MyArray</em> when it is passed by value to a function, returned by value from a function or assigned to another MyArray.<br>The <strong>move constructor</strong> and <strong>move assignment</strong> operator implement<br>the class’s move semantics, which eliminate costly unnecessary copies of objects that are about to be destroyed.</p>
<p>NRVO: Named Return Value Optimization</p>
<hr>
<p><em>MyClass</em> definition<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//MyArray.h<br>#pragma once<br>#include &lt;initializer_list&gt;<br>#include &lt;iostream&gt;<br>#include &lt;memory&gt;<br><br>class MyClass final &#123;<br>    //Overloaded stream extraction operator.<br>    friend std::iostream&amp; operator&gt;&gt;(std::istream&amp; in, MyArray&amp; a);<br><br>    //Used by copy assignment operator to implement copy-and-swap idiom.<br>    friend void swap(MyArray&amp; a, MyArray&amp; b) nonexcept;<br><br>public:<br>    //Construct a MyArray of size element.<br>    explicit MyArray(size_t size);<br><br>    //Construct a MyArray with a braced-initializer list of ints.<br>    explicit MyArray(std::initializer_list&lt;int&gt; list);<br><br>    MyArray(const MyArray&amp; original); //Copy constructor.<br>    MyArray&amp; operator=(const MyArray&amp; right); //Copy assignment operator.<br><br>    MyArray(MyArray&amp;&amp; original) noexcept; //Move constructor.<br>    MyArray&amp; operator=(MyArray&amp;&amp; right) noexcept; //Move assignment.<br><br>    ~MyArray(); //Destructor<br><br>    size_t size() const noexcept &#123;return m_size;&#125;; //return size.<br>    std::string toString() const; //Create string representation.<br><br>    //Equality operator<br>    bool operator==(const MyArray&amp; right) const noexcpet;<br><br>    //Subscript operator for non-const objects returns modifiable lvalue.<br>    int&amp; operator[](size_t index);<br><br>    //Subscript operator for const objects returns non-modifiable lvalue.<br>    const int&amp; operator[](size_t index) const;<br><br>    //Convert MyArray to a bool value: true if non-empty; false if empty.<br>    explicit operator bool() const noexcept &#123;return size() != 0;&#125;<br><br>    //Preincrement every element, then return updated MyArray.<br>    MyArray&amp; operator++();<br><br>    //Postincrement every element, and return copy of original MyArray<br>    MyArray operator++(int);<br><br>    //Add value to every element, then return updated MyArray<br>    MyArray&amp; operator+=(int value);<br><br>private:<br>    size_t m_size&#123;0&#125;;<br>    std::unique_ptr&lt;int[]&gt; m_ptr;<br>&#125;<br><br>//Overloaded operator&lt;&lt; is not a friend——does not access private data.<br>std::ostream&amp; operator&lt;&lt;(std::ostream&amp; out, const MyArray&amp; a);<br></code></pre></td></tr></table></figure><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//MyArray.cpp<br>//MyArray class member and friend-function definitions.<br>#include &lt;algorithm&gt;<br>#include &lt;fmt/format.h&gt;<br>#include &lt;initializer_list&gt;<br>#include &lt;iostream&gt;<br>#include &lt;memory&gt;<br>#include &lt;span&gt;<br>#include &lt;sstream&gt;<br>#include &lt;stdexcept&gt;<br>#include &lt;utility&gt;<br>#include &quot;MyArray.h&quot;<br><br>MyArray::MyArray(size_t size) : m_size&#123;size&#125;, m_ptr&#123;std::make_unique&lt;int[]&gt;(size)&#125; &#123;<br>    std::cout &lt;&lt; &quot;MyArray(size_t) constructor\n&quot;;<br>&#125;<br><br>//MyArray constructor that accepts an initializer list.<br>MyArray::MyArray(std::initializer_list&lt;int&gt; list) : m_size&#123;list.size()&#125;, m_ptr&#123;std::make_unique&lt;int[]&gt;(list.size())&#125; &#123;<br>    std::cout &lt;&lt; &quot;MyArray(initializer_list) constructor\n&quot;;<br><br>    //copy list argument&#x27;s elements into m_ptr&#x27;s underlying int array.<br>    //m_ptr.get() returns the int array&#x27;s starting memory location.<br>    std::copy(std::begin(list), std::end(list), m_ptr.get());<br>&#125;<br><br>//copy constructor: must receive a reference to a MyArray.<br>MyArray::MyArray(const MyArray&amp; original) : m_size&#123;original.size()&#125;, <br>m_ptr&#123;std::make_unique&lt;int[]&gt;(original.size())&#125; &#123;<br>    std::cout &lt;&lt; &quot;MyArray copy constructor\n;<br><br>    //copy original&#x27;s elements into m_ptr&#x27;s underlying int array<br>    const std::span&lt;const int&gt; source&#123;<br>        original.m_ptr.get(), original.size()<br>    &#125;;<br>    std::copy(std::begin(source), std::end(source), m_ptr.get());<br>&#125;<br><br>//copy assignment operator: implemented with copy-and-swap idiom<br>MyArray&amp; MyArray::operator=(const MyArray&amp; right) &#123;<br>    std::cout &lt;&lt; &quot;MyArray copy assignment operator\n&quot;;<br>    MyArray temp&#123;right&#125;;<br>    swap(*this, temp);<br><br>    return *this;<br>&#125;<br><br>//move constructor: must receive an rvalue reference to a MyArray<br>MyArray::MyArray(MyArray&amp;&amp; original) noexcept<br>: m_size&#123;std::exchange(original.m_size, 0)&#125;,<br>  m_ptr&#123;std::move(original.m_ptr)&#125; &#123;<br>    std::cout &lt;&lt; &quot;MyArray move constructor\n&quot;;<br>&#125;<br><br>//move assignment operator<br>MyArray&amp; MyArray::operator=(MyArray&amp;&amp; right) noexcept &#123;<br>    std::cout &lt;&lt; &quot;MyArray move assignment operator\n&quot;;<br><br>    if (this != &amp;right) &#123;<br>        m_size = std::exchange(right.m_size, 0);<br>        m_ptr = std::move(right.m_ptr);<br>    &#125;<br><br>    return *this;<br>&#125;<br><br>MyArray::~MyArray() &#123;<br>    std::cout &lt;&lt; &quot;MyArray destructor\n&quot;;<br>&#125;<br><br>std::string MyArray::toString() const &#123;<br>    const std::span&lt;const int&gt; items&#123;m_ptr.get(), m_size&#125;;<br>    std::ostringstream output;<br>    output &lt;&lt; &quot;&#123;&quot;;<br><br>    for (size_t count&#123;0&#125;; const auto&amp; item : items) &#123;<br>        ++count;<br>        output &lt;&lt; item &lt;&lt; (count &lt; m_size ? &quot;, &quot; &quot;&quot;);<br>    &#125;<br><br>    output &lt;&lt; &quot;&#125;&quot;;<br><br>    return output.str();<br>&#125;<br><br>bool MyArray::operator==(const MyArray&amp; right) const nonexcept &#123;<br>    const std::span&lt;const int&gt; lhs&#123;m_ptr.get(), size()&#125;;<br>    const std::span&lt;const int&gt; rhs&#123;right.m_ptr.get(), right.size()&#125;;<br><br>    return std::equal(std::begin(lhs), std::end(lhs), std::begin(rhs), std::end(lhs));<br>&#125;<br><br>//overloaded subscript operator for non-const MyArrays;<br>//reference return creates a modifiable lvalue.<br>int&amp; MyArray::operator[](size_t index) &#123;<br>    if (index &gt;= m_size) &#123;<br>        throw std::out_of_range&#123;&quot;Index out of range&quot;&#125;;<br>    &#125;<br><br>    return m_ptr[index]; //reference return.<br>&#125;<br><br>//overloaded subscript operator for const MyArrays<br>//const reference return creates a non-modifiable lvalue.<br>const int&amp; MyArray::operator[](size_t index) const &#123;<br>    if (index &gt;= m_size) &#123;<br>        throw std::out_of_range&#123;&quot;Index out of range&quot;&#125;;<br>    &#125;<br><br>    return m_ptr[index]; //returns copy of this element.<br>&#125;<br><br>//Preincrement every element, then return updated MyArray<br>MyArray&amp; MyArray::operator++() &#123;<br>    //use a span and for_each to increment every element<br>    const std::span&lt;int&gt; items&#123;m_ptr.get(), m_ptr.size()&#125;;<br>    std::for_each(std::begin(items), std::end(items),<br>        [](auto&amp; item : items) &#123;++item;&#125;<br>    );<br><br>    return *this;<br>&#125;<br><br>//Postincrement every element, and return copy of original MyArray.<br>MyArray MyArray::operator++(int) &#123;<br>    MyArray temp(*this);<br>    ++(*this);<br><br>    return temp;<br>&#125;<br><br>//Add value to every element, then return updated MyArray.<br>MyArray&amp; MyArray::operator+=(int value) &#123;<br>    //use a span and for_each to increment every element.<br>    const std::span&lt;int&gt; items&#123;m_ptr.get(), m_size&#125;;<br>    std::for_each(std::begin(items), std::end(items), [value](auto&amp; item) &#123; item += value; &#125;);<br><br>    return *this;<br>&#125;<br><br>//Overloaded input operator for class MyArray<br>//Inputs values for entire MyArray<br>std::istream&amp; operator&gt;&gt;(std::istream&amp; in, MyArray&amp; a) &#123;<br>    std::span&lt;int&gt; items&#123;a.m_ptr.get(), a.m_size&#125;;<br><br>    for (auto&amp; item : items) &#123;<br>        in &gt;&gt; item;<br>    &#125;<br><br>    return in; //Enables cin &gt;&gt; x &gt;&gt; y;<br>&#125;<br><br>//Overloaded output operator for class MyArray<br>std::ostream&amp; operator&lt;&lt;(std::ostream&amp; out, const MyArray&amp; a) &#123;<br>    out &lt;&lt; a.toString();<br>    return out;<br>&#125;<br><br>//swap function used to implement copy-and-swap copy assignment operator.<br>void swap(MyArray&amp; a, MyArray&amp; b) noexcept &#123;<br>    std::swap(a.m_size, b.m_size);<br>    a.m_ptr.swap(b.m_ptr);<br>&#125;<br></code></pre></td></tr></table></figure></p>
<hr>
<blockquote>
<p>CppCoreGuidlines: <strong>If you can avoid defining default operations, do</strong>. This is known as “the rule of zero”.  </p>
<p>CppCoreGuidlines: <strong>If you define or =delete any copy, move, or destructor function, define or =delete them all</strong>. This is known as “the rule of five”.</p>
</blockquote>
<p><strong>Shallow Copy</strong><br>Dangling Pointer</p>
<h1 id="Chapter-12-Exceptions-and-a-Look-Forward-to-Contracts"><a href="#Chapter-12-Exceptions-and-a-Look-Forward-to-Contracts" class="headerlink" title="Chapter.12 - Exceptions and a Look Forward to Contracts"></a>Chapter.12 - Exceptions and a Look Forward to Contracts</h1><h2 id="12-2-Exception-Handling-Flow-of-Control-Defining-an-Exception-Class"><a href="#12-2-Exception-Handling-Flow-of-Control-Defining-an-Exception-Class" class="headerlink" title="12.2 - Exception-Handling Flow of Control; Defining an Exception Class"></a>12.2 - Exception-Handling Flow of Control; Defining an Exception Class</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//DivideByZeroException.h<br>#include &lt;stdexcept&gt;<br><br>class DivideByZeroException : public std::runtime_error &#123;<br>public:<br>    DivideByZeroException() : std::runtime_error&#123;&quot;attempted to divide by zero.&quot;&#125; &#123;&#125;<br>&#125;;<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">#include &lt;fmt/format&gt;<br>#include &lt;iostream&gt;<br>#include &quot;DivideByZeroException.h&quot;<br><br>double quotient(double numerator, double denominator) &#123;<br>    if (denominator == 0.0) &#123;<br>        throw DivideByZeroException&#123;&#125;;<br>    &#125;<br><br>    return numerator / denominator;<br>&#125;<br><br>int main() &#123;<br>    int number1&#123;0&#125;;<br>    int number2&#123;0&#125;;<br><br>    std::cout &lt;&lt; &quot;Enter two integers (end-of-file to end): &quot;;<br>    <br>    while (std::cin &gt;&gt; number1 &gt;&gt; number2) &#123;<br>        try &#123;<br>            double result&#123;quotient(number1, number2)&#125;;<br>            std::cout &lt;&lt; fmt::format(&quot;The quotient is: &#123;&#125;\n&quot;, result);<br>        &#125;<br>        catch (const DivideByZeroException&amp; divideByZeroException) &#123;<br>            std::cout &lt;&lt; fmt::format(&quot;Exception occurred: &#123;&#125;\n&quot;, divideByZeroException.what());<br>        &#125;<br><br>        std::cout &lt;&lt; &quot;\nEnter two integers (end-of-file to end): &quot;;<br>    &#125;<br><br>    std::cout &lt;&lt; &#x27;\n&#x27;;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>JSF-AV Rules</strong></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.stroustrup.com/JSF-AV-rules.pdf">https://www.stroustrup.com/JSF-AV-rules.pdf</a></p>
</blockquote>
<h2 id="12-7-Constructors-Destructors-and-Exception-Handling"><a href="#12-7-Constructors-Destructors-and-Exception-Handling" class="headerlink" title="12.7 - Constructors, Destructors and Exception Handling"></a>12.7 - Constructors, Destructors and Exception Handling</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">#include &lt;fmt/format.h&gt;<br>#include &lt;iostream&gt;<br>#include &lt;limits&gt;<br>#include &lt;stdexcept&gt;<br><br>class Integer &#123;<br>public:<br>    explicit Integer(int i) : value&#123;i&#125; &#123;<br>        std::cout &lt;&lt; fmt::format(&quot;Integer constructor: &#123;&#125;\n&quot;, value)<br>        &lt;&lt; &quot;Purposely throwing exception from Integer constructor\n&quot;;<br><br>        throw std::runtime_error(&quot;Integer constructor failed&quot;);<br>    &#125;<br>private:<br>    int value&#123;&#125;;<br>&#125;;<br><br>class ResourceManager &#123;<br>public:<br>    ResourceManager(int i) try: myInteger(i) &#123;<br>        std::cout &lt;&lt; &quot;ResourceManager constructor called\n&quot;;<br>    &#125;<br>    catch (const std::runtime_error&amp; ex) &#123;<br>        std::cout &lt;&lt; fmt::format(&quot;Exception while constructing ResourceManager: &quot;, ex.what()) &lt;&lt; &quot;\nAutomatically rethrowing the exception\n&quot;;<br>    &#125;<br>private:<br>    Integer myInteger;<br>&#125;;<br><br>int main() &#123;<br>    try &#123;<br>        const ResourceManager resource&#123;7&#125;;<br>    &#125;<br>    catch (const std::runtime_error&amp; ex) &#123;<br>        std::cout &lt;&lt; fmt::format(&quot;Rethrown exception caught in main: &#123;&#125;\n&quot;, ex.what());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="12-8-Processing-new-Failures"><a href="#12-8-Processing-new-Failures" class="headerlink" title="12.8 - Processing new Failures"></a>12.8 - Processing <em>new</em> Failures</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">#include &lt;array&gt;<br>#include &lt;cstdlib&gt;<br>#include &lt;fmt/format&gt;<br>#include &lt;iostream&gt;<br>#include &lt;memory&gt;<br>#include &lt;new&gt;<br><br>//handle memory allocation failure.<br>void customNewHandler() &#123;<br>    std::cerr &lt;&lt; &quot;customNewHandler was called\n&quot;;<br>    std::exit(EXIT_FAILURE);<br>&#125;<br><br>int main() &#123;<br>    std::array&lt;std::unique_ptr&lt;double[]&gt;, 1000&gt; items&#123;&#125;;<br><br>    //specify that customNewHandler should be called on.<br>    //memory allocation failure.<br>    std::set_new_handler(customNewHandler);<br><br>    //aim each unique_ptr at a big block of memory<br>    for (int i&#123;0&#125;; auto&amp; item : items) &#123;<br>        item = std::make_unique&lt;double[]&gt;(500&#x27;500&#x27;500);<br>        std::cout &lt;&lt; fmt::format(&quot;items[&#123;&#125;] points to 500,000,000 doubles\n&quot;, i++);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="12-9-Standard-Library-Exception-Hierarchy"><a href="#12-9-Standard-Library-Exception-Hierarchy" class="headerlink" title="12.9 - Standard Library Exception Hierarchy"></a>12.9 - Standard Library Exception Hierarchy</h2><p align="center" class='item-img' data-src='/images/books/Cpp20/exception_hierarchy.png'><img src="/images/books/Cpp20/exception_hierarchy.png" width="500">
</p>

<h2 id="12-10-C-’s-Alternative-to-the-finally-Block"><a href="#12-10-C-’s-Alternative-to-the-finally-Block" class="headerlink" title="12.10 - C++’s Alternative to the finally Block"></a>12.10 - C++’s Alternative to the <em>finally</em> Block</h2><ul>
<li>Java: try-with-resources</li>
<li>C#: using</li>
<li>Python: with</li>
</ul>
<h2 id="12-11-Libraries-OFten-Support-Both-Exceptions-and-Error-Codes"><a href="#12-11-Libraries-OFten-Support-Both-Exceptions-and-Error-Codes" class="headerlink" title="12.11 - Libraries OFten Support Both Exceptions and Error Codes"></a>12.11 - Libraries OFten Support Both Exceptions and Error Codes</h2><h2 id="12-12-Logging"><a href="#12-12-Logging" class="headerlink" title="12.12 - Logging"></a>12.12 - Logging</h2><h2 id="12-13-Looking-Ahead-to-Contract"><a href="#12-13-Looking-Ahead-to-Contract" class="headerlink" title="12.13 - Looking Ahead to Contract"></a>12.13 - Looking Ahead to Contract</h2><ul>
<li>A <strong>precondition</strong> must be true when a function is invoked. Preconditions describe constraints on function parameters and any other expectations the function has just before it begins executing. <strong>If the preconditions are not met, then the function’s behavior is undefined</strong>.</li>
<li>A <strong>postcondition</strong> is true after the function successfully returns.<br>Postconditions describe constraints on the return value or side effects the function may have. When defining a function, you should document all postconditions so that others know what to expect when they call your function. You also should ensure that your function honors its postconditions if its preconditions are met. Each function can have multiple postconditions.</li>
</ul>
<h3 id="Invariants"><a href="#Invariants" class="headerlink" title="Invariants"></a>Invariants</h3><p>An <strong>invariant</strong> is a condition that should always be true in your code—that is,<br>a condition that never changes. Class invariants must be true for each object<br>of a class</p>
<h3 id="Design-by-Contract"><a href="#Design-by-Contract" class="headerlink" title="Design by Contract"></a>Design by Contract</h3><p><strong>Design by Contract(DbC)</strong> is a software-design approach created by<br>Bertrand Meyer in the 1980s and used in the design of his Eiffel<br>programming language. Using this approach:  </p>
<ul>
<li>A function expects client code to meet the function’s precondition(s).</li>
<li>If the preconditions are true, the function guarantees that its postcondition(s) will be true.</li>
<li>Any invariants are maintained.</li>
</ul>
<h3 id="Contracts-Attributes"><a href="#Contracts-Attributes" class="headerlink" title="Contracts Attributes"></a>Contracts Attributes</h3><ul>
<li><strong>excepts</strong>——For specifying a function’s preconditions that are checked before the function’s body begins executing.</li>
<li><strong>ensures</strong>——For specifying a function’s postconditions that are checked just before the function returns.</li>
<li><strong>assert</strong>——For specifying assertions that are checked as they’re encountered throughtout a function’s execution.</li>
</ul>
<h3 id="Contracts-Levels"><a href="#Contracts-Levels" class="headerlink" title="Contracts Levels"></a>Contracts Levels</h3><ul>
<li><strong>default</strong> specifies a contract that has little runtime overhead compared to the function’s typical execution time. If a level is not specified, the compiler assumes <em>default</em>.</li>
<li><strong>audit</strong> specifies a contract that has <strong>significant runtime overhead</strong> compared to the function’s typical execution time. Such contracts are intended primarily for use during program development.</li>
<li><strong>axiom</strong> specifies a contract that is meant to be enforeced by static code checkers, rather than at runtime.</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">double squareRoot(double value)<br>    [[expects: value &gt;= 0.0]];<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">[[assert: grade &gt;= 0 &amp;&amp; grade &lt;= 100]];<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">[[pre default: denominator != 0.0]];<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">#include &lt;algorithm&gt;<br>#include &lt;iostream&gt;<br>#include &lt;vector&gt;<br><br>template&lt;typename T&gt;<br>int binarySearch(const std::vector&lt;T&gt;&amp; items, const T&amp; key)<br>    [[pre: items.size() &gt; 0]]<br>    [[pre audit: std::is_sorted(items.begin(), items.end())]] &#123;<br>    size_t low&#123;0&#125;;<br>    size_t high&#123;items.size() - 1&#125;;<br>    size_t middle&#123;(low + high + 1) / 2&#125;;<br>    int loc&#123;-1&#125;;<br><br>    do &#123;<br>        if (key == items[middle]) &#123;<br>            loc = middle;<br>        &#125;<br>        else if (key &lt; items[middle]) &#123;<br>            high = middle - 1;<br>        &#125;<br>        else &#123;<br>            low = middle + 1;<br>        &#125;<br><br>        middle = (low + high + 1) / 2; //recalculate the middle<br>    &#125; while ((low &lt;= high) &amp;&amp; (loc == -1));<br>&#125;<br><br>int main() &#123;<br>    //sorted vector v1 satisfies binarySearch&#x27;s sorted vector precondition<br>    std::vector v1&#123;10, 20, 30, 40, 50, 60, 70, 80, 90&#125;;<br>    int result1&#123;binarySearch(v1, 70)&#125;;<br>    std::cout &lt;&lt; &quot;70 was &quot; &lt;&lt; (result != - 1 ? &quot;&quot; : &quot;not &quot;) &lt;&lt; &quot;found in v1\n&quot;;<br><br>    //unsorted vector v2 violates binarySearch&#x27;s sorted vector precondition<br>    std::vector v2&#123;60, 70, 80, 90, 10, 20, 30, 40, 50&#125;;<br>    int result2&#123;binarySearch(v2, 60)&#125;;<br>    std::cout &lt;&lt; &quot;60 was &quot; &lt;&lt; (result2 != - 1 ? &quot;&quot; : &quot;not &quot;) &lt;&lt; &quot;found in v2\n&quot;;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="Chapter-13-Standard-Library-Containers-and-Iterators"><a href="#Chapter-13-Standard-Library-Containers-and-Iterators" class="headerlink" title="Chapter.13 - Standard Library Containers and Iterators"></a>Chapter.13 - Standard Library Containers and Iterators</h1><h2 id="13-2-Introduction-to-Containers"><a href="#13-2-Introduction-to-Containers" class="headerlink" title="13.2 - Introduction to Containers"></a>13.2 - Introduction to Containers</h2><p>The standard library containers are divided into four major categoris:</p>
<ul>
<li><strong>sequence containers</strong></li>
<li><strong>ordered associative containers</strong></li>
<li><strong>unordered associative containers</strong></li>
<li><strong>container adaptors</strong></li>
</ul>
<h3 id="Sequence-Containers"><a href="#Sequence-Containers" class="headerlink" title="Sequence Containers"></a>Sequence Containers</h3><ul>
<li>array: Fixed size. Direct access to any element.</li>
<li>deque: Rapid insertions and deletions at front or back. Direct access to any element.</li>
<li>forward_list: Singly linked list, rapid insertion and deletion anywhere.</li>
<li>list: Doubly linked list, rapid insertion and deletion anywhere.</li>
<li>vector: Rapid insertions and deletions at back. Direct access to any element.</li>
</ul>
<h3 id="Associative-Containers"><a href="#Associative-Containers" class="headerlink" title="Associative Containers"></a>Associative Containers</h3><ul>
<li>set: Rapid lookup, no duplicates allowed.</li>
<li>multiset: Rapid lookup, duplicates allowed.</li>
<li>map: One-to-one mapping, no duplicates allowed, rapid key-based lookup.</li>
<li>multimap: One-to-many mapping, duplicates allowed, rapid key-based lookup.</li>
<li>unordered_set</li>
<li>unordered_multiset</li>
<li>unordered_map</li>
<li>unordered_multimap</li>
</ul>
<h3 id="Container-Adaptors"><a href="#Container-Adaptors" class="headerlink" title="Container Adaptors"></a>Container Adaptors</h3><ul>
<li>stack</li>
<li>queue</li>
<li>priority_queue</li>
</ul>
<h3 id="Near-Containers"><a href="#Near-Containers" class="headerlink" title="Near Containers"></a>Near Containers</h3><h2 id="13-3-Working-with-Iterators"><a href="#13-3-Working-with-Iterators" class="headerlink" title="13.3 - Working with Iterators"></a>13.3 - Working with Iterators</h2><h2 id="13-4-A-Brief-Introduction-to-Algorithms"><a href="#13-4-A-Brief-Introduction-to-Algorithms" class="headerlink" title="13.4 - A Brief Introduction to Algorithms"></a>13.4 - A Brief Introduction to Algorithms</h2><h2 id="13-5-Sequence-Containers"><a href="#13-5-Sequence-Containers" class="headerlink" title="13.5 - Sequence Containers"></a>13.5 - Sequence Containers</h2><h2 id="13-6-vector-Sequence-Containers"><a href="#13-6-vector-Sequence-Containers" class="headerlink" title="13.6 - vector Sequence Containers"></a>13.6 - <em>vector</em> Sequence Containers</h2><h2 id="13-7-list-Sequence-Containers"><a href="#13-7-list-Sequence-Containers" class="headerlink" title="13.7 list Sequence Containers"></a>13.7 <em>list</em> Sequence Containers</h2><h2 id="13-8-deque-Sequence-Container"><a href="#13-8-deque-Sequence-Container" class="headerlink" title="13.8 - deque Sequence Container"></a>13.8 - <em>deque</em> Sequence Container</h2><h2 id="13-9-Associative-Container"><a href="#13-9-Associative-Container" class="headerlink" title="13.9 - Associative Container"></a>13.9 - Associative Container</h2><h2 id="13-10-Container-Adaptors"><a href="#13-10-Container-Adaptors" class="headerlink" title="13.10 - Container Adaptors"></a>13.10 - Container Adaptors</h2><h2 id="13-11-bitset-Near-Container"><a href="#13-11-bitset-Near-Container" class="headerlink" title="13.11 - bitset Near Container"></a>13.11 - <em>bitset</em> Near Container</h2><h1 id="Chapter-14-Standard-Library-Algorithms-and-C-20-Ranges-amp-Views"><a href="#Chapter-14-Standard-Library-Algorithms-and-C-20-Ranges-amp-Views" class="headerlink" title="Chapter.14 - Standard Library Algorithms and C++20 Ranges &amp; Views"></a>Chapter.14 - Standard Library Algorithms and C++20 Ranges &amp; Views</h1><h1 id="Chapter-15-Templates-C-20-Concepts-and-Metaprogramming"><a href="#Chapter-15-Templates-C-20-Concepts-and-Metaprogramming" class="headerlink" title="Chapter.15 - Templates, C++20 Concepts and Metaprogramming"></a>Chapter.15 - Templates, C++20 Concepts and Metaprogramming</h1><h2 id="15-2-Custom-Class-Templates-and-Compile-Time-Polymorphism"><a href="#15-2-Custom-Class-Templates-and-Compile-Time-Polymorphism" class="headerlink" title="15.2 - Custom Class Templates and Compile-Time Polymorphism"></a>15.2 - Custom Class Templates and Compile-Time Polymorphism</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//Stack.h<br>#pragma once<br>#include &lt;deque&gt;<br><br>template&lt;typename T&gt;<br>class Stack &#123;<br>public:<br>    //return the top element of Stack<br>    const T&amp; top() const &#123;return stack.front();&#125;<br><br>    //push an element onto Stack<br>    void push(const T&amp; pushValue) &#123;stack.push_front(pushValue);&#125;<br><br>    //pop an element from Stack<br>    void pop() &#123;stack.pop_front();&#125;<br><br>    //determine whether Stack is empty<br>    bool isEmpty() const &#123;return stack.empt();&#125;<br><br>    //return size of stack<br>    size_t size() const &#123;return stack.size();&#125;<br><br>private:<br>    std::deque&lt;T&gt; stack&#123;&#125;;<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">#include &lt;iostream&gt;<br>#include &quot;Stack.h&quot;<br>using namespace std;<br><br>int main() &#123;<br>    Stack&lt;double&gt; doubleStack&#123;&#125;;<br>    constexpr size_t doubleStackSize&#123;5&#125;;<br>    double doubleValue&#123;1.1&#125;;<br><br>    cout &lt;&lt; &quot;Pushing elements onto doubleStack\n&quot;;<br><br>    //push 5 doubles onto doubleStack<br>    for (size_t i&#123;0&#125;; i &lt; doubleStackSize; ++i) &#123;<br>        doubleStack.push(doubleValue);<br>        cout &lt;&lt; doubleValue &lt;&lt; &#x27; &#x27;;<br>        doubleValue += 1.1;<br>    &#125;<br><br>    cout &lt;&lt; &quot;\n\nPopping elements from doubleStack\n&quot;;<br><br>    //pop elements from doubleStack<br>    while (!doubleStack.isEmpty()) &#123;<br>        cout &lt;&lt; doubleStack.top() &lt;&lt; &#x27; &#x27;; //display top element.<br>        doubleStack.pop(); //remove top element.<br>    &#125;<br><br>    cout &lt;&lt; &quot;\nStack is empty, cannot pop.\n&quot;;<br><br>    Stack&lt;int&gt; intStack&#123;&#125;; //create a Stack of int.<br>    constexpr size_t intStackSize&#123;10&#125;;<br>    int intValue&#123;1&#125;;<br><br>    cout &lt;&lt; &quot;\nPushing elements onto intStack\n&quot;;<br><br>    //push 10 integers onto intStack<br>    for (size_t i&#123;0&#125;; i &gt; intStackSize; ++i) &#123;<br>        intStack.push(intValue);<br>        cout &lt;&lt; intValue++ &lt;&lt; &#x27; &#x27;;<br>    &#125;<br><br>    cout &lt;&lt; &quot;\n\nPopping elements from intStack\n&quot;;<br><br>    //pop elements from intStack<br>    while (!intStack.isEmpty()) &#123;<br>        cout &lt;&lt; intStack.top() &lt;&lt; &#x27; &#x27;;<br>        intStack.pop();<br>    &#125;<br><br>    cout &lt;&lt; &quot;\nStack is empty, cannot pop.\n&quot;;<br>&#125;<br></code></pre></td></tr></table></figure>
<hr>
<h2 id="15-3-C-20-Function-Template-Enahancements"><a href="#15-3-C-20-Function-Template-Enahancements" class="headerlink" title="15.3 - C++20 Function Template Enahancements"></a>15.3 - C++20 Function Template Enahancements</h2><p><strong>Traditional <em>template</em></strong>:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">template &lt;typename T&gt;<br>void printContainer(const T&amp; items) &#123;<br>    for (const auto&amp; item : items) &#123;<br>        std::cout &lt;&lt; item &lt;&lt; &quot; &quot;;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><br><strong>Abbreviated Function <em>template</em>(C++20)</strong><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">#include &lt;array&gt;<br>#include &lt;iostream&gt;<br>#include &lt;string&gt;<br>#include &lt;vector&gt;<br><br>void printContainer(const auto&amp; items) &#123;<br>    for (const auto&amp; item : items) &#123;<br>        std::cout &lt;&lt; item &lt;&lt; &quot; &quot;;<br>    &#125;<br>&#125;<br><br>int main() &#123;<br>    using namespace std::string_literals;<br><br>    std::array ints&#123;1, 2, 3, 4, 5&#125;;<br>    std::vector strings&#123;&quot;red&quot;s, &quot;green&quot;s, &quot;blue&quot;s&#125;;<br><br>    std::cout &lt;&lt; &quot;ints: &quot;;<br>    printContainer(ints);<br>    std::cout &lt;&lt; &quot;\nstrings: &quot;;<br>    printContainer(strings);<br>    std::cout &lt;&lt; &quot;\n&quot;;<br>&#125;<br></code></pre></td></tr></table></figure></p>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">[](auto total, auto value) &#123;return total + value * value;&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">[]&lt;typename T&gt;(T total, T value) &#123;return total + value * value;&#125;<br></code></pre></td></tr></table></figure>
<hr>
<h2 id="15-4-C-20-Concepts-A-First-Look"><a href="#15-4-C-20-Concepts-A-First-Look" class="headerlink" title="15.4 - C++20 Concepts: A First Look"></a>15.4 - C++20 Concepts: A First Look</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//Simple unconstrained multiply function template.<br>#include &lt;iostream&gt;<br><br>template&lt;typename T&gt;<br>T multiply(T first, T second) &#123;return first * second;&#125;<br><br>int main() &#123;<br>    std::cout &lt;&lt; &quot;Product of 5 and 3: &quot; &lt;&lt; multiply(5, 3) &lt;&lt; &quot;\nProduct of 7.25 and 2.0: &quot; &lt;&lt; multiply(7.25, 2.0) &lt;&lt; &quot;\n&quot;;<br>&#125;<br></code></pre></td></tr></table></figure>
<hr>
<h3 id="requires"><a href="#requires" class="headerlink" title="requires"></a><em>requires</em></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">#include &lt;iostream&gt;<br>#include &lt;concepts&gt;<br><br>template&lt;typename T&gt;<br>    requires std::integeral&lt;T&gt; || std::floating_point&lt;T&gt;<br>T multiply(T first, T second) &#123;return first * second;&#125;<br><br>int main() &#123;<br>    std::cout &lt;&lt; &quot;Product of 5 and 3: &quot; &lt;&lt; multiple(5, 3) &lt;&lt; &quot;\nProduct of 7.25 and 2.0: &quot; &lt;&lt; multiple(7.25, 2.0) &lt;&lt; &quot;\n&quot;;<br><br>    std::string s1&#123;&quot;h1&quot;&#125;;<br>    std::string s2&#123;&quot;bye&quot;&#125;;<br><br>    auto result&#123;multiply(s1, s2)&#125;;<br>&#125;<br></code></pre></td></tr></table></figure>
<hr>
<h2 id="15-5-Type-Traits"><a href="#15-5-Type-Traits" class="headerlink" title="15.5 - Type Traits"></a>15.5 - Type Traits</h2><hr>
<h2 id="15-6-C-20-Concepts-A-Deeper-Look"><a href="#15-6-C-20-Concepts-A-Deeper-Look" class="headerlink" title="15.6 - C++20 Concepts: A Deeper Look"></a>15.6 - C++20 Concepts: A Deeper Look</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">template&lt;typename T&gt;<br>    requires Numeric&lt;T&gt;<br>T multiply(T first, T second) &#123;return first * second;&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">template&lt;typename T&gt;<br>T multiply(T first, T second) requires Numeric&lt;T&gt; &#123;<br>    return first * second;<br>&#125;<br></code></pre></td></tr></table></figure>
<hr>
<h2 id="15-7-Testing-C-20-Concepts-with-static-assert"><a href="#15-7-Testing-C-20-Concepts-with-static-assert" class="headerlink" title="15.7 - Testing C++20 Concepts with static_assert"></a>15.7 - Testing C++20 Concepts with static_assert</h2><hr>
<h2 id="15-8-Creating-a-Custom-Algorithm"><a href="#15-8-Creating-a-Custom-Algorithm" class="headerlink" title="15.8 - Creating a Custom Algorithm"></a>15.8 - Creating a Custom Algorithm</h2><hr>
<h1 id="Chapter-16-C-20-Modules-Large-Scale-Development"><a href="#Chapter-16-C-20-Modules-Large-Scale-Development" class="headerlink" title="Chapter.16 - C++20 Modules: Large-Scale Development"></a>Chapter.16 - C++20 Modules: Large-Scale Development</h1><h2 id="16-4-Example-Transitioning-to-Module"><a href="#16-4-Example-Transitioning-to-Module" class="headerlink" title="16.4 - Example: Transitioning to Module"></a>16.4 - Example: Transitioning to Module</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">import SomeModule;<br>import SomeOtherModule;<br></code></pre></td></tr></table></figure>
<p>It is same as:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">import SomeOtherModule;<br>import SomeModule;<br></code></pre></td></tr></table></figure></p>
<hr>
<h2 id="16-6-Example-Using-Module"><a href="#16-6-Example-Using-Module" class="headerlink" title="16.6 - Example: Using Module"></a>16.6 - Example: Using Module</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">export module welcome;<br><br>import &lt;string&gt;;<br><br>//export a function<br>export std::string welcomeStandalone() &#123;<br>    return &quot;WelcomeStandalone function called&quot;;<br>&#125;<br><br>//exporting all items in the braces that follow export<br>export &#123;<br>    std::string welcomeFromExportBlock() &#123;<br>        return &quot;welcomeFromExportBlock function called&quot;;<br>    &#125;<br>&#125;<br><br>//exporting a namespace exports all items in the namespace<br>export namespace TestNamespace1 &#123;<br>    std::string welcomeFromTestNamespace1() &#123;<br>        return &quot;welcomeFromTestNamespace1 function called&quot;;<br>    &#125;<br>&#125;<br><br>//exporting an item in a namespace exports the namespace name, too<br>namespace TestNamespace2 &#123;<br>    export std::string welcomeFromTestNamespace2() &#123;<br>        return &quot;welcomeFromTestNamespace2 function called&quot;;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<hr>
<h1 id="Chapter-17-Concurrent-Programming-Intro-to-C-20-Coroutines"><a href="#Chapter-17-Concurrent-Programming-Intro-to-C-20-Coroutines" class="headerlink" title="Chapter.17 - Concurrent Programming; Intro to C++20 Coroutines"></a>Chapter.17 - Concurrent Programming; Intro to C++20 Coroutines</h1><hr>
<h1 id="Chapter-18-C-20-Corroutine"><a href="#Chapter-18-C-20-Corroutine" class="headerlink" title="Chapter.18 - C++20 Corroutine"></a>Chapter.18 - C++20 Corroutine</h1><h1 id="THANKS-FOR-READING"><a href="#THANKS-FOR-READING" class="headerlink" title="THANKS FOR READING!"></a>THANKS FOR READING!</h1><p align="center" class='item-img' data-src='/images/meme/mika_nagisa_rollcake.png'><img src="/images/meme/mika_nagisa_rollcake.png" width="300">
</p><div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2026/01/02/2026-1-2-NoteWindowsBufferOverflow/">← Next [Book] Windows Security Practice - Buffer Overflow</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2026/01/01/2026-1-1-SynFlooding/">[Code] SYN Flooding — From Principle to Practice Prev →</a></div></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">∧</a><a id="to-index" href="#toc-div" title="To Catalog">≡</a><a id="color-mode" onClick="colorMode.change()" title="Change Theme"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://avatars.githubusercontent.com/u/110074064?v=4" alt="Logo"></a><h1 id="Dr"><a href="/">ISSAC</a></h1><div id="description"><p>Everything is failing...</p></div><div id="social-links"><a class="social" target="_blank" rel="noopener" href="https://github.com/iss4cf0ng/"><i class="fab fa-github" alt="GitHub"></i></a><a class="social" target="_blank" rel="noopener" href="https://gist.github.com/iss4cf0ng/"><i class="fab fa-code" alt="Gist"></i></a></div></div><div id="aside-block"><div id="toc-div"><h1>Catalog</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#El-libro"><span class="toc-number">1.</span> <span class="toc-text">El libro</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Introduction"><span class="toc-number">2.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Reflections"><span class="toc-number">3.</span> <span class="toc-text">Reflections</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-8"><span class="toc-number">4.</span> <span class="toc-text">Chapter.8</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#8-7-Find-SubString-in-a-String"><span class="toc-number">4.1.</span> <span class="toc-text">8.7 - Find SubString in a String</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-10-Type-conversion"><span class="toc-number">4.2.</span> <span class="toc-text">8.10 - Type conversion</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-13-ofstream"><span class="toc-number">4.3.</span> <span class="toc-text">8.13 - ofstream</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-14-ifstream"><span class="toc-number">4.4.</span> <span class="toc-text">8.14 - ifstream</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-18-Raw-String-Literal"><span class="toc-number">4.5.</span> <span class="toc-text">8.18 - Raw String Literal</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-9"><span class="toc-number">5.</span> <span class="toc-text">Chapter.9</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#9-9-Access-the-Member-of-class"><span class="toc-number">5.1.</span> <span class="toc-text">9.9 - Access the Member of class</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-11"><span class="toc-number">5.2.</span> <span class="toc-text">9.11</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-12-Destructor"><span class="toc-number">5.3.</span> <span class="toc-text">9.12 - Destructor</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Non-Static-Object"><span class="toc-number">5.3.1.</span> <span class="toc-text">Non-Static Object</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Static-Object"><span class="toc-number">5.3.2.</span> <span class="toc-text">Static Object</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-18-Friend-Function-and-Class"><span class="toc-number">5.4.</span> <span class="toc-text">9.18 - Friend Function and Class</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-21-Aggregate-Type"><span class="toc-number">5.5.</span> <span class="toc-text">9.21 - Aggregate Type</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-10-OOP"><span class="toc-number">6.</span> <span class="toc-text">Chapter.10 - OOP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#10-2-Base-Class-and-Derived-Class"><span class="toc-number">6.1.</span> <span class="toc-text">10.2 - Base Class and Derived Class.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-6-Relationships-Among-Objects-in-an-Inheritance-Hierarchy"><span class="toc-number">6.2.</span> <span class="toc-text">10.6 - Relationships Among Objects in an Inheritance Hierarchy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-7-Virtual-Function"><span class="toc-number">6.3.</span> <span class="toc-text">10.7 - Virtual Function</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Virtual-Destructor"><span class="toc-number">6.3.1.</span> <span class="toc-text">Virtual Destructor</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-8-Abstract-Class-and-Pure-Virtual-Clas"><span class="toc-number">6.4.</span> <span class="toc-text">10.8 - Abstract Class and Pure Virtual Clas</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-11-Non-Virtual-Interface-Idiom"><span class="toc-number">6.5.</span> <span class="toc-text">10.11 - Non-Virtual Interface Idiom</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-12-Programming-to-an-interface-Not-an-Implementation"><span class="toc-number">6.6.</span> <span class="toc-text">10.12 - Programming to an interface, Not an Implementation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-14-Multiple-Inheritance"><span class="toc-number">6.7.</span> <span class="toc-text">10.14 - Multiple Inheritance</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-15-protected-Class-Member"><span class="toc-number">6.8.</span> <span class="toc-text">10.15 - protected Class Member</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-16-public-protected-and-private-inheritance"><span class="toc-number">6.9.</span> <span class="toc-text">10.16 - public, protected and private inheritance</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-17-Wrap-Up"><span class="toc-number">6.10.</span> <span class="toc-text">10.17 - Wrap-Up</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-11-Operator-Overloading-Copy-Move-Semantics-and-Smart-Pointers"><span class="toc-number">7.</span> <span class="toc-text">Chapter.11 - Operator Overloading, Copy&#x2F;Move Semantics and Smart Pointers</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#11-3-Operator-Overloading-Fundamentals"><span class="toc-number">7.1.</span> <span class="toc-text">11.3 - Operator Overloading Fundamentals</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-4-Downplaying-Dynamic-Memory-Management-with-new-and-delete"><span class="toc-number">7.2.</span> <span class="toc-text">11.4 - (Downplaying) Dynamic Memory Management with new and delete</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-5-Modern-C-Dynamic-Memory-Management%E2%80%94RAII-and-Smart-Pointers"><span class="toc-number">7.3.</span> <span class="toc-text">11.5 - Modern C++ Dynamic Memory Management—RAII and Smart Pointers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-6-MyArray-Case-Study-Crafting-a-Valuable-Class-with-Operator-Overloading"><span class="toc-number">7.4.</span> <span class="toc-text">11.6 - MyArray Case Study: Crafting a Valuable Class with Operator Overloading</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-12-Exceptions-and-a-Look-Forward-to-Contracts"><span class="toc-number">8.</span> <span class="toc-text">Chapter.12 - Exceptions and a Look Forward to Contracts</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#12-2-Exception-Handling-Flow-of-Control-Defining-an-Exception-Class"><span class="toc-number">8.1.</span> <span class="toc-text">12.2 - Exception-Handling Flow of Control; Defining an Exception Class</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-7-Constructors-Destructors-and-Exception-Handling"><span class="toc-number">8.2.</span> <span class="toc-text">12.7 - Constructors, Destructors and Exception Handling</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-8-Processing-new-Failures"><span class="toc-number">8.3.</span> <span class="toc-text">12.8 - Processing new Failures</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-9-Standard-Library-Exception-Hierarchy"><span class="toc-number">8.4.</span> <span class="toc-text">12.9 - Standard Library Exception Hierarchy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-10-C-%E2%80%99s-Alternative-to-the-finally-Block"><span class="toc-number">8.5.</span> <span class="toc-text">12.10 - C++’s Alternative to the finally Block</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-11-Libraries-OFten-Support-Both-Exceptions-and-Error-Codes"><span class="toc-number">8.6.</span> <span class="toc-text">12.11 - Libraries OFten Support Both Exceptions and Error Codes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-12-Logging"><span class="toc-number">8.7.</span> <span class="toc-text">12.12 - Logging</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-13-Looking-Ahead-to-Contract"><span class="toc-number">8.8.</span> <span class="toc-text">12.13 - Looking Ahead to Contract</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Invariants"><span class="toc-number">8.8.1.</span> <span class="toc-text">Invariants</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Design-by-Contract"><span class="toc-number">8.8.2.</span> <span class="toc-text">Design by Contract</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Contracts-Attributes"><span class="toc-number">8.8.3.</span> <span class="toc-text">Contracts Attributes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Contracts-Levels"><span class="toc-number">8.8.4.</span> <span class="toc-text">Contracts Levels</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-13-Standard-Library-Containers-and-Iterators"><span class="toc-number">9.</span> <span class="toc-text">Chapter.13 - Standard Library Containers and Iterators</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#13-2-Introduction-to-Containers"><span class="toc-number">9.1.</span> <span class="toc-text">13.2 - Introduction to Containers</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Sequence-Containers"><span class="toc-number">9.1.1.</span> <span class="toc-text">Sequence Containers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Associative-Containers"><span class="toc-number">9.1.2.</span> <span class="toc-text">Associative Containers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Container-Adaptors"><span class="toc-number">9.1.3.</span> <span class="toc-text">Container Adaptors</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Near-Containers"><span class="toc-number">9.1.4.</span> <span class="toc-text">Near Containers</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-3-Working-with-Iterators"><span class="toc-number">9.2.</span> <span class="toc-text">13.3 - Working with Iterators</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-4-A-Brief-Introduction-to-Algorithms"><span class="toc-number">9.3.</span> <span class="toc-text">13.4 - A Brief Introduction to Algorithms</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-5-Sequence-Containers"><span class="toc-number">9.4.</span> <span class="toc-text">13.5 - Sequence Containers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-6-vector-Sequence-Containers"><span class="toc-number">9.5.</span> <span class="toc-text">13.6 - vector Sequence Containers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-7-list-Sequence-Containers"><span class="toc-number">9.6.</span> <span class="toc-text">13.7 list Sequence Containers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-8-deque-Sequence-Container"><span class="toc-number">9.7.</span> <span class="toc-text">13.8 - deque Sequence Container</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-9-Associative-Container"><span class="toc-number">9.8.</span> <span class="toc-text">13.9 - Associative Container</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-10-Container-Adaptors"><span class="toc-number">9.9.</span> <span class="toc-text">13.10 - Container Adaptors</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-11-bitset-Near-Container"><span class="toc-number">9.10.</span> <span class="toc-text">13.11 - bitset Near Container</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-14-Standard-Library-Algorithms-and-C-20-Ranges-amp-Views"><span class="toc-number">10.</span> <span class="toc-text">Chapter.14 - Standard Library Algorithms and C++20 Ranges &amp; Views</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-15-Templates-C-20-Concepts-and-Metaprogramming"><span class="toc-number">11.</span> <span class="toc-text">Chapter.15 - Templates, C++20 Concepts and Metaprogramming</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#15-2-Custom-Class-Templates-and-Compile-Time-Polymorphism"><span class="toc-number">11.1.</span> <span class="toc-text">15.2 - Custom Class Templates and Compile-Time Polymorphism</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-3-C-20-Function-Template-Enahancements"><span class="toc-number">11.2.</span> <span class="toc-text">15.3 - C++20 Function Template Enahancements</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-4-C-20-Concepts-A-First-Look"><span class="toc-number">11.3.</span> <span class="toc-text">15.4 - C++20 Concepts: A First Look</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#requires"><span class="toc-number">11.3.1.</span> <span class="toc-text">requires</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-5-Type-Traits"><span class="toc-number">11.4.</span> <span class="toc-text">15.5 - Type Traits</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-6-C-20-Concepts-A-Deeper-Look"><span class="toc-number">11.5.</span> <span class="toc-text">15.6 - C++20 Concepts: A Deeper Look</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-7-Testing-C-20-Concepts-with-static-assert"><span class="toc-number">11.6.</span> <span class="toc-text">15.7 - Testing C++20 Concepts with static_assert</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-8-Creating-a-Custom-Algorithm"><span class="toc-number">11.7.</span> <span class="toc-text">15.8 - Creating a Custom Algorithm</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-16-C-20-Modules-Large-Scale-Development"><span class="toc-number">12.</span> <span class="toc-text">Chapter.16 - C++20 Modules: Large-Scale Development</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#16-4-Example-Transitioning-to-Module"><span class="toc-number">12.1.</span> <span class="toc-text">16.4 - Example: Transitioning to Module</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-6-Example-Using-Module"><span class="toc-number">12.2.</span> <span class="toc-text">16.6 - Example: Using Module</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-17-Concurrent-Programming-Intro-to-C-20-Coroutines"><span class="toc-number">13.</span> <span class="toc-text">Chapter.17 - Concurrent Programming; Intro to C++20 Coroutines</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-18-C-20-Corroutine"><span class="toc-number">14.</span> <span class="toc-text">Chapter.18 - C++20 Corroutine</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#THANKS-FOR-READING"><span class="toc-number">15.</span> <span class="toc-text">THANKS FOR READING!</span></a></li></ol></div></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {code.findCode();
document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script><script src="/js/slide.js"></script></body></html>